{"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/news-backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/news-backend\",\"filename\":\"/home/dushani/wso2/Rnd/news-backend/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/news-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _apolloServerExpress = require(\"apollo-server-express\");\n\nvar _http = require(\"http\");\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _schema = _interopRequireDefault(require(\"./data/schema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PORT = 8080;\nconst app = (0, _express.default)();\napp.use('*', (0, _cors.default)());\napp.use(_express.default.json({\n  limit: '100mb'\n}));\napp.use(_express.default.urlencoded({\n  limit: '100mb'\n}));\nconst server = new _apolloServerExpress.ApolloServer({\n  schema: _schema.default,\n  subscriptions: {\n    path: \"/graphql\"\n  }\n});\nserver.applyMiddleware({\n  app\n});\nconst httpServer = (0, _http.createServer)(app);\nserver.installSubscriptionHandlers(httpServer);\nhttpServer.listen(PORT, () => {\n  console.log(`ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`);\n  console.log(`ðŸš€ Subscriptions ready at ws://localhost:${PORT}${server.subscriptionsPath}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJQT1JUIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJsaW1pdCIsInVybGVuY29kZWQiLCJzZXJ2ZXIiLCJBcG9sbG9TZXJ2ZXIiLCJzY2hlbWEiLCJzdWJzY3JpcHRpb25zIiwicGF0aCIsImFwcGx5TWlkZGxld2FyZSIsImh0dHBTZXJ2ZXIiLCJpbnN0YWxsU3Vic2NyaXB0aW9uSGFuZGxlcnMiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiZ3JhcGhxbFBhdGgiLCJzdWJzY3JpcHRpb25zUGF0aCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUVBLE1BQU1BLElBQUksR0FBRyxJQUFiO0FBRUEsTUFBTUMsR0FBRyxHQUFHLHVCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxvQkFBYjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsQ0FBYTtBQUFDQyxFQUFBQSxLQUFLLEVBQUU7QUFBUixDQUFiLENBQVI7QUFDQUosR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRRyxVQUFSLENBQW1CO0FBQUNELEVBQUFBLEtBQUssRUFBRTtBQUFSLENBQW5CLENBQVI7QUFFQSxNQUFNRSxNQUFNLEdBQUcsSUFBSUMsaUNBQUosQ0FBaUI7QUFDOUJDLEVBQUFBLE1BQU0sRUFBTkEsZUFEOEI7QUFFOUJDLEVBQUFBLGFBQWEsRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUU7QUFBUjtBQUZlLENBQWpCLENBQWY7QUFLQUosTUFBTSxDQUFDSyxlQUFQLENBQXVCO0FBQUVYLEVBQUFBO0FBQUYsQ0FBdkI7QUFFQSxNQUFNWSxVQUFVLEdBQUcsd0JBQWFaLEdBQWIsQ0FBbkI7QUFFQU0sTUFBTSxDQUFDTywyQkFBUCxDQUFtQ0QsVUFBbkM7QUFFQUEsVUFBVSxDQUFDRSxNQUFYLENBQWtCZixJQUFsQixFQUF3QixNQUFNO0FBQzVCZ0IsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsdUNBQXNDakIsSUFBSyxHQUFFTyxNQUFNLENBQUNXLFdBQVksRUFBN0U7QUFDQUYsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsNENBQTJDakIsSUFBSyxHQUFFTyxNQUFNLENBQUNZLGlCQUFrQixFQUF4RjtBQUNELENBSEQiLCJzb3VyY2VSb290IjoiL2hvbWUvZHVzaGFuaS93c28yL1JuZC9uZXdzLWJhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBBcG9sbG9TZXJ2ZXIgfSBmcm9tICdhcG9sbG8tc2VydmVyLWV4cHJlc3MnO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyIH0gZnJvbSAnaHR0cCc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcblxuaW1wb3J0IHNjaGVtYSBmcm9tICcuL2RhdGEvc2NoZW1hJztcblxuY29uc3QgUE9SVCA9IDgwODA7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZSgnKicsIGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbih7bGltaXQ6ICcxMDBtYid9KSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7bGltaXQ6ICcxMDBtYid9KSk7XG5cbmNvbnN0IHNlcnZlciA9IG5ldyBBcG9sbG9TZXJ2ZXIoeyBcbiAgc2NoZW1hLCBcbiAgc3Vic2NyaXB0aW9uczogeyBwYXRoOiBcIi9ncmFwaHFsXCIgfVxufSk7XG5cbnNlcnZlci5hcHBseU1pZGRsZXdhcmUoeyBhcHAgfSk7XG5cbmNvbnN0IGh0dHBTZXJ2ZXIgPSBjcmVhdGVTZXJ2ZXIoYXBwKTtcblxuc2VydmVyLmluc3RhbGxTdWJzY3JpcHRpb25IYW5kbGVycyhodHRwU2VydmVyKTtcblxuaHR0cFNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhg8J+agCBTZXJ2ZXIgcmVhZHkgYXQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9JHtzZXJ2ZXIuZ3JhcGhxbFBhdGh9YCk7XG4gIGNvbnNvbGUubG9nKGDwn5qAIFN1YnNjcmlwdGlvbnMgcmVhZHkgYXQgd3M6Ly9sb2NhbGhvc3Q6JHtQT1JUfSR7c2VydmVyLnN1YnNjcmlwdGlvbnNQYXRofWApO1xufSk7XG4iXX0=","map":{"version":3,"sources":["server.js"],"names":["PORT","app","use","express","json","limit","urlencoded","server","ApolloServer","schema","subscriptions","path","applyMiddleware","httpServer","installSubscriptionHandlers","listen","console","log","graphqlPath","subscriptionsPath"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,MAAMA,IAAI,GAAG,IAAb;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,oBAAb;AACAD,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,CAAa;AAACC,EAAAA,KAAK,EAAE;AAAR,CAAb,CAAR;AACAJ,GAAG,CAACC,GAAJ,CAAQC,iBAAQG,UAAR,CAAmB;AAACD,EAAAA,KAAK,EAAE;AAAR,CAAnB,CAAR;AAEA,MAAME,MAAM,GAAG,IAAIC,iCAAJ,CAAiB;AAC9BC,EAAAA,MAAM,EAANA,eAD8B;AAE9BC,EAAAA,aAAa,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR;AAFe,CAAjB,CAAf;AAKAJ,MAAM,CAACK,eAAP,CAAuB;AAAEX,EAAAA;AAAF,CAAvB;AAEA,MAAMY,UAAU,GAAG,wBAAaZ,GAAb,CAAnB;AAEAM,MAAM,CAACO,2BAAP,CAAmCD,UAAnC;AAEAA,UAAU,CAACE,MAAX,CAAkBf,IAAlB,EAAwB,MAAM;AAC5BgB,EAAAA,OAAO,CAACC,GAAR,CAAa,uCAAsCjB,IAAK,GAAEO,MAAM,CAACW,WAAY,EAA7E;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAa,4CAA2CjB,IAAK,GAAEO,MAAM,CAACY,iBAAkB,EAAxF;AACD,CAHD","sourceRoot":"/home/dushani/wso2/Rnd/news-backend/","sourcesContent":["import express from 'express';\nimport { ApolloServer } from 'apollo-server-express';\nimport { createServer } from 'http';\nimport cors from 'cors';\n\nimport schema from './data/schema';\n\nconst PORT = 8080;\n\nconst app = express();\n\napp.use('*', cors());\napp.use(express.json({limit: '100mb'}));\napp.use(express.urlencoded({limit: '100mb'}));\n\nconst server = new ApolloServer({ \n  schema, \n  subscriptions: { path: \"/graphql\" }\n});\n\nserver.applyMiddleware({ app });\n\nconst httpServer = createServer(app);\n\nserver.installSubscriptionHandlers(httpServer);\n\nhttpServer.listen(PORT, () => {\n  console.log(`ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`);\n  console.log(`ðŸš€ Subscriptions ready at ws://localhost:${PORT}${server.subscriptionsPath}`);\n});\n"]}},"mtime":1648721888083},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/news-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/news-backend\",\"filename\":\"/home/dushani/wso2/Rnd/news-backend/data/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/news-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _newsSchema.NewsAppSchema;\n  }\n});\n\nvar _newsSchema = require(\"./newsSchema\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL25ld3MtYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE5ld3NBcHBTY2hlbWEgYXMgZGVmYXVsdCB9IGZyb20gJy4vbmV3c1NjaGVtYSdcbiJdfQ==","map":{"version":3,"sources":["schema.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA","sourceRoot":"/home/dushani/wso2/Rnd/news-backend/data/","sourcesContent":["export { NewsAppSchema as default } from './newsSchema'\n"]}},"mtime":1648721378154},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/news-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/news-backend\",\"filename\":\"/home/dushani/wso2/Rnd/news-backend/data/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/news-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _newsSchema.NewsAppSchema;\n  }\n});\n\nvar _newsSchema = require(\"./newsSchema\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL25ld3MtYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE5ld3NBcHBTY2hlbWEgYXMgZGVmYXVsdCB9IGZyb20gJy4vbmV3c1NjaGVtYSdcbiJdfQ==","map":{"version":3,"sources":["schema.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA","sourceRoot":"/home/dushani/wso2/Rnd/news-backend/data/","sourcesContent":["export { NewsAppSchema as default } from './newsSchema'\n"]}},"mtime":1648721378154},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/news-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/news-backend\",\"filename\":\"/home/dushani/wso2/Rnd/news-backend/data/newsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/news-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NewsAppSchema = void 0;\n\nvar _graphqlTools = require(\"graphql-tools\");\n\nvar _graphqlSubscriptions = require(\"graphql-subscriptions\");\n\nconst pubsub = new _graphqlSubscriptions.PubSub();\nconst ADDED_NEW_BLOG_POST = 'new_blog_post';\nconst counter = 3;\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n  blogPosts: BlogPosts\n  blogPost(id: String): BlogPost\n}\n\ntype Mutation {\n  addBlogPost(title: String, content: String, author: String): BlogPost\n}\n\ntype Subscription {\n  newBlogPost: BlogPost\n}\n\ntype BlogPost {\n  _id: String\n  title: String\n  content: String\n  author: String\n}\n\ntype Aggregate {\n  count: String\n}\n\ntype BlogPosts {\n  nodes: [BlogPost]\n  aggregate: Aggregate\n}\n`;\nconst blogPosts = [{\n  id: '1000',\n  title: 'Blog Post 1',\n  content: 'This is the first blog post'\n}, {\n  id: '1001',\n  title: 'Blog Post 2',\n  content: 'This is the second blog post'\n}];\nconst blogPostData = {};\nblogPosts.forEach(post => {\n  blogPostData[post.id] = post;\n});\n\nfunction getPost(id) {\n  return blogPostData[id];\n}\n\nfunction getAllPosts() {\n  return blogPostData;\n}\n\nconst resolvers = {\n  Query: {\n    blogPosts: (_root, _args) => getAllPosts(),\n    blogPost: (_root, {\n      id\n    }) => getPost(id)\n  },\n  Mutation: {\n    addBlogPost: (_root, {\n      title,\n      content,\n      author\n    }) => {\n      console.log(`Adding blog post: ${title}`);\n      const id = counter;\n      const post = {\n        id: counter,\n        title: title,\n        content: content,\n        author: author\n      };\n      blogPostData[id].push(post);\n      pubsub.publish(ADDED_NEW_BLOG_POST, {\n        addBlogPost: post\n      });\n      counter++;\n      return post;\n    }\n  },\n  Subscription: {\n    newBlogPost: {\n      subscribe: (0, _graphqlSubscriptions.withFilter)(() => pubsub.asyncIterator(ADDED_NEW_BLOG_POST))\n    }\n  }\n};\nconst NewsAppSchema = (0, _graphqlTools.makeExecutableSchema)({\n  typeDefs: [schemaString],\n  resolvers\n});\nexports.NewsAppSchema = NewsAppSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NTY2hlbWEuanMiXSwibmFtZXMiOlsicHVic3ViIiwiUHViU3ViIiwiQURERURfTkVXX0JMT0dfUE9TVCIsImNvdW50ZXIiLCJzY2hlbWFTdHJpbmciLCJibG9nUG9zdHMiLCJpZCIsInRpdGxlIiwiY29udGVudCIsImJsb2dQb3N0RGF0YSIsImZvckVhY2giLCJwb3N0IiwiZ2V0UG9zdCIsImdldEFsbFBvc3RzIiwicmVzb2x2ZXJzIiwiUXVlcnkiLCJfcm9vdCIsIl9hcmdzIiwiYmxvZ1Bvc3QiLCJNdXRhdGlvbiIsImFkZEJsb2dQb3N0IiwiYXV0aG9yIiwiY29uc29sZSIsImxvZyIsInB1c2giLCJwdWJsaXNoIiwiU3Vic2NyaXB0aW9uIiwibmV3QmxvZ1Bvc3QiLCJzdWJzY3JpYmUiLCJhc3luY0l0ZXJhdG9yIiwiTmV3c0FwcFNjaGVtYSIsInR5cGVEZWZzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBRUE7O0FBRUEsTUFBTUEsTUFBTSxHQUFHLElBQUlDLDRCQUFKLEVBQWY7QUFDQSxNQUFNQyxtQkFBbUIsR0FBRyxlQUE1QjtBQUNBLE1BQU1DLE9BQU8sR0FBRyxDQUFoQjtBQUVBLE1BQU1DLFlBQVksR0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBbkNBO0FBcUNBLE1BQU1DLFNBQVMsR0FBRyxDQUNoQjtBQUNFQyxFQUFBQSxFQUFFLEVBQUUsTUFETjtBQUVFQyxFQUFBQSxLQUFLLEVBQUUsYUFGVDtBQUdFQyxFQUFBQSxPQUFPLEVBQUc7QUFIWixDQURnQixFQU1oQjtBQUNFRixFQUFBQSxFQUFFLEVBQUUsTUFETjtBQUVFQyxFQUFBQSxLQUFLLEVBQUUsYUFGVDtBQUdFQyxFQUFBQSxPQUFPLEVBQUc7QUFIWixDQU5nQixDQUFsQjtBQWFBLE1BQU1DLFlBQVksR0FBRyxFQUFyQjtBQUNBSixTQUFTLENBQUNLLE9BQVYsQ0FBbUJDLElBQUQsSUFBVTtBQUMxQkYsRUFBQUEsWUFBWSxDQUFDRSxJQUFJLENBQUNMLEVBQU4sQ0FBWixHQUF3QkssSUFBeEI7QUFDRCxDQUZEOztBQUlBLFNBQVNDLE9BQVQsQ0FBaUJOLEVBQWpCLEVBQXFCO0FBQ25CLFNBQU9HLFlBQVksQ0FBQ0gsRUFBRCxDQUFuQjtBQUNEOztBQUVELFNBQVNPLFdBQVQsR0FBdUI7QUFDbkIsU0FBT0osWUFBUDtBQUNIOztBQUVELE1BQU1LLFNBQVMsR0FBRztBQUNoQkMsRUFBQUEsS0FBSyxFQUFFO0FBQ0xWLElBQUFBLFNBQVMsRUFBRSxDQUFDVyxLQUFELEVBQVFDLEtBQVIsS0FBa0JKLFdBQVcsRUFEbkM7QUFFTEssSUFBQUEsUUFBUSxFQUFFLENBQUNGLEtBQUQsRUFBUTtBQUFFVixNQUFBQTtBQUFGLEtBQVIsS0FBbUJNLE9BQU8sQ0FBQ04sRUFBRDtBQUYvQixHQURTO0FBS2hCYSxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsV0FBVyxFQUFFLENBQUNKLEtBQUQsRUFBUTtBQUFFVCxNQUFBQSxLQUFGO0FBQVNDLE1BQUFBLE9BQVQ7QUFBa0JhLE1BQUFBO0FBQWxCLEtBQVIsS0FBdUM7QUFDbERDLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFhLHFCQUFvQmhCLEtBQU0sRUFBdkM7QUFDQSxZQUFNRCxFQUFFLEdBQUdILE9BQVg7QUFDQSxZQUFNUSxJQUFJLEdBQUc7QUFBRUwsUUFBQUEsRUFBRSxFQUFFSCxPQUFOO0FBQWVJLFFBQUFBLEtBQUssRUFBRUEsS0FBdEI7QUFBNkJDLFFBQUFBLE9BQU8sRUFBRUEsT0FBdEM7QUFBK0NhLFFBQUFBLE1BQU0sRUFBRUE7QUFBdkQsT0FBYjtBQUNBWixNQUFBQSxZQUFZLENBQUNILEVBQUQsQ0FBWixDQUFpQmtCLElBQWpCLENBQXNCYixJQUF0QjtBQUNBWCxNQUFBQSxNQUFNLENBQUN5QixPQUFQLENBQWV2QixtQkFBZixFQUFvQztBQUFDa0IsUUFBQUEsV0FBVyxFQUFFVDtBQUFkLE9BQXBDO0FBQ0FSLE1BQUFBLE9BQU87QUFDUCxhQUFPUSxJQUFQO0FBQ0Q7QUFUTyxHQUxNO0FBZ0JoQmUsRUFBQUEsWUFBWSxFQUFFO0FBQ1pDLElBQUFBLFdBQVcsRUFBRTtBQUNUQyxNQUFBQSxTQUFTLEVBQUUsc0NBQ1AsTUFBTTVCLE1BQU0sQ0FBQzZCLGFBQVAsQ0FBcUIzQixtQkFBckIsQ0FEQztBQURGO0FBREQ7QUFoQkUsQ0FBbEI7QUF5Qk8sTUFBTTRCLGFBQWEsR0FBRyx3Q0FBcUI7QUFDaERDLEVBQUFBLFFBQVEsRUFBRSxDQUFDM0IsWUFBRCxDQURzQztBQUVoRFUsRUFBQUE7QUFGZ0QsQ0FBckIsQ0FBdEIiLCJzb3VyY2VSb290IjoiL2hvbWUvZHVzaGFuaS93c28yL1JuZC9uZXdzLWJhY2tlbmQvZGF0YS8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IG1ha2VFeGVjdXRhYmxlU2NoZW1hIH0gZnJvbSAnZ3JhcGhxbC10b29scyc7XG5cbmltcG9ydCB7IFB1YlN1Yiwgd2l0aEZpbHRlciB9IGZyb20gJ2dyYXBocWwtc3Vic2NyaXB0aW9ucyc7XG5cbmNvbnN0IHB1YnN1YiA9IG5ldyBQdWJTdWIoKTtcbmNvbnN0IEFEREVEX05FV19CTE9HX1BPU1QgPSAnbmV3X2Jsb2dfcG9zdCc7XG5jb25zdCBjb3VudGVyID0gMztcblxuY29uc3Qgc2NoZW1hU3RyaW5nID0gYFxuc2NoZW1hIHtcbiAgcXVlcnk6IFF1ZXJ5XG4gIG11dGF0aW9uOiBNdXRhdGlvblxuICBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvblxufVxuXG50eXBlIFF1ZXJ5IHtcbiAgYmxvZ1Bvc3RzOiBCbG9nUG9zdHNcbiAgYmxvZ1Bvc3QoaWQ6IFN0cmluZyk6IEJsb2dQb3N0XG59XG5cbnR5cGUgTXV0YXRpb24ge1xuICBhZGRCbG9nUG9zdCh0aXRsZTogU3RyaW5nLCBjb250ZW50OiBTdHJpbmcsIGF1dGhvcjogU3RyaW5nKTogQmxvZ1Bvc3Rcbn1cblxudHlwZSBTdWJzY3JpcHRpb24ge1xuICBuZXdCbG9nUG9zdDogQmxvZ1Bvc3Rcbn1cblxudHlwZSBCbG9nUG9zdCB7XG4gIF9pZDogU3RyaW5nXG4gIHRpdGxlOiBTdHJpbmdcbiAgY29udGVudDogU3RyaW5nXG4gIGF1dGhvcjogU3RyaW5nXG59XG5cbnR5cGUgQWdncmVnYXRlIHtcbiAgY291bnQ6IFN0cmluZ1xufVxuXG50eXBlIEJsb2dQb3N0cyB7XG4gIG5vZGVzOiBbQmxvZ1Bvc3RdXG4gIGFnZ3JlZ2F0ZTogQWdncmVnYXRlXG59XG5gO1xuXG5jb25zdCBibG9nUG9zdHMgPSBbXG4gIHtcbiAgICBpZDogJzEwMDAnLFxuICAgIHRpdGxlOiAnQmxvZyBQb3N0IDEnLFxuICAgIGNvbnRlbnQgOiAnVGhpcyBpcyB0aGUgZmlyc3QgYmxvZyBwb3N0JyxcbiAgfSxcbiAge1xuICAgIGlkOiAnMTAwMScsXG4gICAgdGl0bGU6ICdCbG9nIFBvc3QgMicsXG4gICAgY29udGVudCA6ICdUaGlzIGlzIHRoZSBzZWNvbmQgYmxvZyBwb3N0JyxcbiAgfSxcbl07XG5cbmNvbnN0IGJsb2dQb3N0RGF0YSA9IHt9O1xuYmxvZ1Bvc3RzLmZvckVhY2goKHBvc3QpID0+IHtcbiAgYmxvZ1Bvc3REYXRhW3Bvc3QuaWRdID0gcG9zdDtcbn0pO1xuXG5mdW5jdGlvbiBnZXRQb3N0KGlkKSB7XG4gIHJldHVybiBibG9nUG9zdERhdGFbaWRdO1xufVxuXG5mdW5jdGlvbiBnZXRBbGxQb3N0cygpIHtcbiAgICByZXR1cm4gYmxvZ1Bvc3REYXRhO1xufVxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIFF1ZXJ5OiB7XG4gICAgYmxvZ1Bvc3RzOiAoX3Jvb3QsIF9hcmdzKSA9PiBnZXRBbGxQb3N0cygpLFxuICAgIGJsb2dQb3N0OiAoX3Jvb3QsIHsgaWQgfSkgPT4gZ2V0UG9zdChpZCksXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgYWRkQmxvZ1Bvc3Q6IChfcm9vdCwgeyB0aXRsZSwgY29udGVudCwgYXV0aG9yIH0pID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBBZGRpbmcgYmxvZyBwb3N0OiAke3RpdGxlfWApO1xuICAgICAgY29uc3QgaWQgPSBjb3VudGVyO1xuICAgICAgY29uc3QgcG9zdCA9IHsgaWQ6IGNvdW50ZXIsIHRpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudCwgYXV0aG9yOiBhdXRob3J9XG4gICAgICBibG9nUG9zdERhdGFbaWRdLnB1c2gocG9zdCk7XG4gICAgICBwdWJzdWIucHVibGlzaChBRERFRF9ORVdfQkxPR19QT1NULCB7YWRkQmxvZ1Bvc3Q6IHBvc3R9KTtcbiAgICAgIGNvdW50ZXIgKys7XG4gICAgICByZXR1cm4gcG9zdDtcbiAgICB9LFxuICB9LFxuICBTdWJzY3JpcHRpb246IHtcbiAgICBuZXdCbG9nUG9zdDoge1xuICAgICAgICBzdWJzY3JpYmU6IHdpdGhGaWx0ZXIoXG4gICAgICAgICAgICAoKSA9PiBwdWJzdWIuYXN5bmNJdGVyYXRvcihBRERFRF9ORVdfQkxPR19QT1NUKSxcbiAgICAgICAgKSxcbiAgICB9LFxuICB9LFxufVxuXG5leHBvcnQgY29uc3QgTmV3c0FwcFNjaGVtYSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcbiAgdHlwZURlZnM6IFtzY2hlbWFTdHJpbmddLFxuICByZXNvbHZlcnNcbn0pO1xuIl19","map":{"version":3,"sources":["newsSchema.js"],"names":["pubsub","PubSub","ADDED_NEW_BLOG_POST","counter","schemaString","blogPosts","id","title","content","blogPostData","forEach","post","getPost","getAllPosts","resolvers","Query","_root","_args","blogPost","Mutation","addBlogPost","author","console","log","push","publish","Subscription","newBlogPost","subscribe","asyncIterator","NewsAppSchema","typeDefs"],"mappings":";;;;;;;AACA;;AAEA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,4BAAJ,EAAf;AACA,MAAMC,mBAAmB,GAAG,eAA5B;AACA,MAAMC,OAAO,GAAG,CAAhB;AAEA,MAAMC,YAAY,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnCA;AAqCA,MAAMC,SAAS,GAAG,CAChB;AACEC,EAAAA,EAAE,EAAE,MADN;AAEEC,EAAAA,KAAK,EAAE,aAFT;AAGEC,EAAAA,OAAO,EAAG;AAHZ,CADgB,EAMhB;AACEF,EAAAA,EAAE,EAAE,MADN;AAEEC,EAAAA,KAAK,EAAE,aAFT;AAGEC,EAAAA,OAAO,EAAG;AAHZ,CANgB,CAAlB;AAaA,MAAMC,YAAY,GAAG,EAArB;AACAJ,SAAS,CAACK,OAAV,CAAmBC,IAAD,IAAU;AAC1BF,EAAAA,YAAY,CAACE,IAAI,CAACL,EAAN,CAAZ,GAAwBK,IAAxB;AACD,CAFD;;AAIA,SAASC,OAAT,CAAiBN,EAAjB,EAAqB;AACnB,SAAOG,YAAY,CAACH,EAAD,CAAnB;AACD;;AAED,SAASO,WAAT,GAAuB;AACnB,SAAOJ,YAAP;AACH;;AAED,MAAMK,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLV,IAAAA,SAAS,EAAE,CAACW,KAAD,EAAQC,KAAR,KAAkBJ,WAAW,EADnC;AAELK,IAAAA,QAAQ,EAAE,CAACF,KAAD,EAAQ;AAAEV,MAAAA;AAAF,KAAR,KAAmBM,OAAO,CAACN,EAAD;AAF/B,GADS;AAKhBa,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,EAAE,CAACJ,KAAD,EAAQ;AAAET,MAAAA,KAAF;AAASC,MAAAA,OAAT;AAAkBa,MAAAA;AAAlB,KAAR,KAAuC;AAClDC,MAAAA,OAAO,CAACC,GAAR,CAAa,qBAAoBhB,KAAM,EAAvC;AACA,YAAMD,EAAE,GAAGH,OAAX;AACA,YAAMQ,IAAI,GAAG;AAAEL,QAAAA,EAAE,EAAEH,OAAN;AAAeI,QAAAA,KAAK,EAAEA,KAAtB;AAA6BC,QAAAA,OAAO,EAAEA,OAAtC;AAA+Ca,QAAAA,MAAM,EAAEA;AAAvD,OAAb;AACAZ,MAAAA,YAAY,CAACH,EAAD,CAAZ,CAAiBkB,IAAjB,CAAsBb,IAAtB;AACAX,MAAAA,MAAM,CAACyB,OAAP,CAAevB,mBAAf,EAAoC;AAACkB,QAAAA,WAAW,EAAET;AAAd,OAApC;AACAR,MAAAA,OAAO;AACP,aAAOQ,IAAP;AACD;AATO,GALM;AAgBhBe,EAAAA,YAAY,EAAE;AACZC,IAAAA,WAAW,EAAE;AACTC,MAAAA,SAAS,EAAE,sCACP,MAAM5B,MAAM,CAAC6B,aAAP,CAAqB3B,mBAArB,CADC;AADF;AADD;AAhBE,CAAlB;AAyBO,MAAM4B,aAAa,GAAG,wCAAqB;AAChDC,EAAAA,QAAQ,EAAE,CAAC3B,YAAD,CADsC;AAEhDU,EAAAA;AAFgD,CAArB,CAAtB","sourceRoot":"/home/dushani/wso2/Rnd/news-backend/data/","sourcesContent":["\nimport { makeExecutableSchema } from 'graphql-tools';\n\nimport { PubSub, withFilter } from 'graphql-subscriptions';\n\nconst pubsub = new PubSub();\nconst ADDED_NEW_BLOG_POST = 'new_blog_post';\nconst counter = 3;\n\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n  blogPosts: BlogPosts\n  blogPost(id: String): BlogPost\n}\n\ntype Mutation {\n  addBlogPost(title: String, content: String, author: String): BlogPost\n}\n\ntype Subscription {\n  newBlogPost: BlogPost\n}\n\ntype BlogPost {\n  _id: String\n  title: String\n  content: String\n  author: String\n}\n\ntype Aggregate {\n  count: String\n}\n\ntype BlogPosts {\n  nodes: [BlogPost]\n  aggregate: Aggregate\n}\n`;\n\nconst blogPosts = [\n  {\n    id: '1000',\n    title: 'Blog Post 1',\n    content : 'This is the first blog post',\n  },\n  {\n    id: '1001',\n    title: 'Blog Post 2',\n    content : 'This is the second blog post',\n  },\n];\n\nconst blogPostData = {};\nblogPosts.forEach((post) => {\n  blogPostData[post.id] = post;\n});\n\nfunction getPost(id) {\n  return blogPostData[id];\n}\n\nfunction getAllPosts() {\n    return blogPostData;\n}\n\nconst resolvers = {\n  Query: {\n    blogPosts: (_root, _args) => getAllPosts(),\n    blogPost: (_root, { id }) => getPost(id),\n  },\n  Mutation: {\n    addBlogPost: (_root, { title, content, author }) => {\n      console.log(`Adding blog post: ${title}`);\n      const id = counter;\n      const post = { id: counter, title: title, content: content, author: author}\n      blogPostData[id].push(post);\n      pubsub.publish(ADDED_NEW_BLOG_POST, {addBlogPost: post});\n      counter ++;\n      return post;\n    },\n  },\n  Subscription: {\n    newBlogPost: {\n        subscribe: withFilter(\n            () => pubsub.asyncIterator(ADDED_NEW_BLOG_POST),\n        ),\n    },\n  },\n}\n\nexport const NewsAppSchema = makeExecutableSchema({\n  typeDefs: [schemaString],\n  resolvers\n});\n"]}},"mtime":1648721822156},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/news-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/news-backend\",\"filename\":\"/home/dushani/wso2/Rnd/news-backend/data/newsSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/news-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NewsAppSchema = void 0;\n\nvar _graphqlTools = require(\"graphql-tools\");\n\nvar _graphqlSubscriptions = require(\"graphql-subscriptions\");\n\nconst pubsub = new _graphqlSubscriptions.PubSub();\nconst ADDED_NEW_BLOG_POST = 'new_blog_post';\nlet counter = 3;\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n  blogPosts: [BlogPost]\n  blogPost(id: String): BlogPost\n}\n\ntype Mutation {\n  addBlogPost(title: String, content: String, author: String): BlogPost\n}\n\ntype Subscription {\n  newBlogPost: BlogPost\n}\n\ntype BlogPost {\n  id: String\n  title: String\n  content: String\n  author: String\n}\n`;\nlet blogPosts = [{\n  id: '1000',\n  title: 'Blog Post 1',\n  content: 'This is the first blog post',\n  author: 'James Smith'\n}, {\n  id: '1001',\n  title: 'Blog Post 2',\n  content: 'This is the second blog post',\n  author: 'John Doe'\n}];\nlet blogPostData = {};\nblogPosts.forEach(post => {\n  blogPostData[post.id] = post;\n});\n\nfunction getPost(id) {\n  return blogPostData[id];\n}\n\nfunction getAllPosts() {\n  return blogPosts;\n}\n\nconst resolvers = {\n  Query: {\n    blogPosts: (_root, _args) => {\n      return getAllPosts();\n    },\n    blogPost: (_root, {\n      id\n    }) => getPost(id)\n  },\n  Mutation: {\n    addBlogPost: (_root, {\n      title,\n      content,\n      author\n    }) => {\n      let id = counter;\n      let post = {\n        id: counter,\n        title: title,\n        content: content,\n        author: author\n      };\n      blogPostData[\"id\"] = post;\n      blogPosts.push(post);\n      pubsub.publish(ADDED_NEW_BLOG_POST, {\n        newBlogPost: post\n      });\n      counter++;\n      return post;\n    }\n  },\n  Subscription: {\n    newBlogPost: {\n      subscribe: () => pubsub.asyncIterator(ADDED_NEW_BLOG_POST)\n    }\n  }\n};\nconst NewsAppSchema = (0, _graphqlTools.makeExecutableSchema)({\n  typeDefs: [schemaString],\n  resolvers\n});\nexports.NewsAppSchema = NewsAppSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NTY2hlbWEuanMiXSwibmFtZXMiOlsicHVic3ViIiwiUHViU3ViIiwiQURERURfTkVXX0JMT0dfUE9TVCIsImNvdW50ZXIiLCJzY2hlbWFTdHJpbmciLCJibG9nUG9zdHMiLCJpZCIsInRpdGxlIiwiY29udGVudCIsImF1dGhvciIsImJsb2dQb3N0RGF0YSIsImZvckVhY2giLCJwb3N0IiwiZ2V0UG9zdCIsImdldEFsbFBvc3RzIiwicmVzb2x2ZXJzIiwiUXVlcnkiLCJfcm9vdCIsIl9hcmdzIiwiYmxvZ1Bvc3QiLCJNdXRhdGlvbiIsImFkZEJsb2dQb3N0IiwicHVzaCIsInB1Ymxpc2giLCJuZXdCbG9nUG9zdCIsIlN1YnNjcmlwdGlvbiIsInN1YnNjcmliZSIsImFzeW5jSXRlcmF0b3IiLCJOZXdzQXBwU2NoZW1hIiwidHlwZURlZnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFFQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsNEJBQUosRUFBZjtBQUNBLE1BQU1DLG1CQUFtQixHQUFHLGVBQTVCO0FBQ0EsSUFBSUMsT0FBTyxHQUFHLENBQWQ7QUFFQSxNQUFNQyxZQUFZLEdBQUk7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQTFCQTtBQTRCQSxJQUFJQyxTQUFTLEdBQUcsQ0FDZDtBQUNFQyxFQUFBQSxFQUFFLEVBQUUsTUFETjtBQUVFQyxFQUFBQSxLQUFLLEVBQUUsYUFGVDtBQUdFQyxFQUFBQSxPQUFPLEVBQUcsNkJBSFo7QUFJRUMsRUFBQUEsTUFBTSxFQUFFO0FBSlYsQ0FEYyxFQU9kO0FBQ0VILEVBQUFBLEVBQUUsRUFBRSxNQUROO0FBRUVDLEVBQUFBLEtBQUssRUFBRSxhQUZUO0FBR0VDLEVBQUFBLE9BQU8sRUFBRyw4QkFIWjtBQUlFQyxFQUFBQSxNQUFNLEVBQUc7QUFKWCxDQVBjLENBQWhCO0FBZUEsSUFBSUMsWUFBWSxHQUFHLEVBQW5CO0FBQ0FMLFNBQVMsQ0FBQ00sT0FBVixDQUFtQkMsSUFBRCxJQUFVO0FBQzFCRixFQUFBQSxZQUFZLENBQUNFLElBQUksQ0FBQ04sRUFBTixDQUFaLEdBQXdCTSxJQUF4QjtBQUNELENBRkQ7O0FBSUEsU0FBU0MsT0FBVCxDQUFpQlAsRUFBakIsRUFBcUI7QUFDbkIsU0FBT0ksWUFBWSxDQUFDSixFQUFELENBQW5CO0FBQ0Q7O0FBRUQsU0FBU1EsV0FBVCxHQUF1QjtBQUNuQixTQUFPVCxTQUFQO0FBQ0g7O0FBRUQsTUFBTVUsU0FBUyxHQUFHO0FBQ2hCQyxFQUFBQSxLQUFLLEVBQUU7QUFDTFgsSUFBQUEsU0FBUyxFQUFFLENBQUNZLEtBQUQsRUFBUUMsS0FBUixLQUFrQjtBQUMzQixhQUFPSixXQUFXLEVBQWxCO0FBQXFCLEtBRmxCO0FBR0xLLElBQUFBLFFBQVEsRUFBRSxDQUFDRixLQUFELEVBQVE7QUFBRVgsTUFBQUE7QUFBRixLQUFSLEtBQW1CTyxPQUFPLENBQUNQLEVBQUQ7QUFIL0IsR0FEUztBQU1oQmMsRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLFdBQVcsRUFBRSxDQUFDSixLQUFELEVBQVE7QUFBRVYsTUFBQUEsS0FBRjtBQUFTQyxNQUFBQSxPQUFUO0FBQWtCQyxNQUFBQTtBQUFsQixLQUFSLEtBQXVDO0FBQ2xELFVBQUlILEVBQUUsR0FBR0gsT0FBVDtBQUNBLFVBQUlTLElBQUksR0FBRztBQUFFTixRQUFBQSxFQUFFLEVBQUVILE9BQU47QUFBZUksUUFBQUEsS0FBSyxFQUFFQSxLQUF0QjtBQUE2QkMsUUFBQUEsT0FBTyxFQUFFQSxPQUF0QztBQUErQ0MsUUFBQUEsTUFBTSxFQUFFQTtBQUF2RCxPQUFYO0FBQ0FDLE1BQUFBLFlBQVksQ0FBQyxJQUFELENBQVosR0FBcUJFLElBQXJCO0FBQ0FQLE1BQUFBLFNBQVMsQ0FBQ2lCLElBQVYsQ0FBZVYsSUFBZjtBQUNBWixNQUFBQSxNQUFNLENBQUN1QixPQUFQLENBQWVyQixtQkFBZixFQUFvQztBQUFDc0IsUUFBQUEsV0FBVyxFQUFFWjtBQUFkLE9BQXBDO0FBQ0FULE1BQUFBLE9BQU87QUFDUCxhQUFPUyxJQUFQO0FBQ0Q7QUFUTyxHQU5NO0FBaUJoQmEsRUFBQUEsWUFBWSxFQUFFO0FBQ1pELElBQUFBLFdBQVcsRUFBRTtBQUNURSxNQUFBQSxTQUFTLEVBQUUsTUFBTTFCLE1BQU0sQ0FBQzJCLGFBQVAsQ0FBcUJ6QixtQkFBckI7QUFEUjtBQUREO0FBakJFLENBQWxCO0FBd0JPLE1BQU0wQixhQUFhLEdBQUcsd0NBQXFCO0FBQ2hEQyxFQUFBQSxRQUFRLEVBQUUsQ0FBQ3pCLFlBQUQsQ0FEc0M7QUFFaERXLEVBQUFBO0FBRmdELENBQXJCLENBQXRCIiwic291cmNlUm9vdCI6Ii9ob21lL2R1c2hhbmkvd3NvMi9SbmQvbmV3cy1iYWNrZW5kL2RhdGEvIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBtYWtlRXhlY3V0YWJsZVNjaGVtYSB9IGZyb20gJ2dyYXBocWwtdG9vbHMnO1xuXG5pbXBvcnQgeyBQdWJTdWIsIHdpdGhGaWx0ZXIgfSBmcm9tICdncmFwaHFsLXN1YnNjcmlwdGlvbnMnO1xuXG5jb25zdCBwdWJzdWIgPSBuZXcgUHViU3ViKCk7XG5jb25zdCBBRERFRF9ORVdfQkxPR19QT1NUID0gJ25ld19ibG9nX3Bvc3QnO1xubGV0IGNvdW50ZXIgPSAzO1xuXG5jb25zdCBzY2hlbWFTdHJpbmcgPSBgXG5zY2hlbWEge1xuICBxdWVyeTogUXVlcnlcbiAgbXV0YXRpb246IE11dGF0aW9uXG4gIHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uXG59XG5cbnR5cGUgUXVlcnkge1xuICBibG9nUG9zdHM6IFtCbG9nUG9zdF1cbiAgYmxvZ1Bvc3QoaWQ6IFN0cmluZyk6IEJsb2dQb3N0XG59XG5cbnR5cGUgTXV0YXRpb24ge1xuICBhZGRCbG9nUG9zdCh0aXRsZTogU3RyaW5nLCBjb250ZW50OiBTdHJpbmcsIGF1dGhvcjogU3RyaW5nKTogQmxvZ1Bvc3Rcbn1cblxudHlwZSBTdWJzY3JpcHRpb24ge1xuICBuZXdCbG9nUG9zdDogQmxvZ1Bvc3Rcbn1cblxudHlwZSBCbG9nUG9zdCB7XG4gIGlkOiBTdHJpbmdcbiAgdGl0bGU6IFN0cmluZ1xuICBjb250ZW50OiBTdHJpbmdcbiAgYXV0aG9yOiBTdHJpbmdcbn1cbmA7XG5cbmxldCBibG9nUG9zdHMgPSBbXG4gIHtcbiAgICBpZDogJzEwMDAnLFxuICAgIHRpdGxlOiAnQmxvZyBQb3N0IDEnLFxuICAgIGNvbnRlbnQgOiAnVGhpcyBpcyB0aGUgZmlyc3QgYmxvZyBwb3N0JyxcbiAgICBhdXRob3I6ICdKYW1lcyBTbWl0aCcsXG4gIH0sXG4gIHtcbiAgICBpZDogJzEwMDEnLFxuICAgIHRpdGxlOiAnQmxvZyBQb3N0IDInLFxuICAgIGNvbnRlbnQgOiAnVGhpcyBpcyB0aGUgc2Vjb25kIGJsb2cgcG9zdCcsXG4gICAgYXV0aG9yIDogJ0pvaG4gRG9lJyxcbiAgfSxcbl07XG5cbmxldCBibG9nUG9zdERhdGEgPSB7fTtcbmJsb2dQb3N0cy5mb3JFYWNoKChwb3N0KSA9PiB7XG4gIGJsb2dQb3N0RGF0YVtwb3N0LmlkXSA9IHBvc3Q7XG59KTtcblxuZnVuY3Rpb24gZ2V0UG9zdChpZCkge1xuICByZXR1cm4gYmxvZ1Bvc3REYXRhW2lkXTtcbn1cblxuZnVuY3Rpb24gZ2V0QWxsUG9zdHMoKSB7XG4gICAgcmV0dXJuIGJsb2dQb3N0cztcbn1cblxuY29uc3QgcmVzb2x2ZXJzID0ge1xuICBRdWVyeToge1xuICAgIGJsb2dQb3N0czogKF9yb290LCBfYXJncykgPT4ge1xuICAgICAgcmV0dXJuIGdldEFsbFBvc3RzKCl9LFxuICAgIGJsb2dQb3N0OiAoX3Jvb3QsIHsgaWQgfSkgPT4gZ2V0UG9zdChpZCksXG4gIH0sXG4gIE11dGF0aW9uOiB7XG4gICAgYWRkQmxvZ1Bvc3Q6IChfcm9vdCwgeyB0aXRsZSwgY29udGVudCwgYXV0aG9yIH0pID0+IHtcbiAgICAgIGxldCBpZCA9IGNvdW50ZXI7XG4gICAgICBsZXQgcG9zdCA9IHsgaWQ6IGNvdW50ZXIsIHRpdGxlOiB0aXRsZSwgY29udGVudDogY29udGVudCwgYXV0aG9yOiBhdXRob3J9XG4gICAgICBibG9nUG9zdERhdGFbXCJpZFwiXSA9IHBvc3Q7XG4gICAgICBibG9nUG9zdHMucHVzaChwb3N0KTtcbiAgICAgIHB1YnN1Yi5wdWJsaXNoKEFEREVEX05FV19CTE9HX1BPU1QsIHtuZXdCbG9nUG9zdDogcG9zdH0pO1xuICAgICAgY291bnRlciArKztcbiAgICAgIHJldHVybiBwb3N0O1xuICAgIH0sXG4gIH0sXG4gIFN1YnNjcmlwdGlvbjoge1xuICAgIG5ld0Jsb2dQb3N0OiB7XG4gICAgICAgIHN1YnNjcmliZTogKCkgPT4gcHVic3ViLmFzeW5jSXRlcmF0b3IoQURERURfTkVXX0JMT0dfUE9TVCksXG4gICAgfSxcbiAgfSxcbn1cblxuZXhwb3J0IGNvbnN0IE5ld3NBcHBTY2hlbWEgPSBtYWtlRXhlY3V0YWJsZVNjaGVtYSh7XG4gIHR5cGVEZWZzOiBbc2NoZW1hU3RyaW5nXSxcbiAgcmVzb2x2ZXJzXG59KTtcbiJdfQ==","map":{"version":3,"sources":["newsSchema.js"],"names":["pubsub","PubSub","ADDED_NEW_BLOG_POST","counter","schemaString","blogPosts","id","title","content","author","blogPostData","forEach","post","getPost","getAllPosts","resolvers","Query","_root","_args","blogPost","Mutation","addBlogPost","push","publish","newBlogPost","Subscription","subscribe","asyncIterator","NewsAppSchema","typeDefs"],"mappings":";;;;;;;AACA;;AAEA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,4BAAJ,EAAf;AACA,MAAMC,mBAAmB,GAAG,eAA5B;AACA,IAAIC,OAAO,GAAG,CAAd;AAEA,MAAMC,YAAY,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA1BA;AA4BA,IAAIC,SAAS,GAAG,CACd;AACEC,EAAAA,EAAE,EAAE,MADN;AAEEC,EAAAA,KAAK,EAAE,aAFT;AAGEC,EAAAA,OAAO,EAAG,6BAHZ;AAIEC,EAAAA,MAAM,EAAE;AAJV,CADc,EAOd;AACEH,EAAAA,EAAE,EAAE,MADN;AAEEC,EAAAA,KAAK,EAAE,aAFT;AAGEC,EAAAA,OAAO,EAAG,8BAHZ;AAIEC,EAAAA,MAAM,EAAG;AAJX,CAPc,CAAhB;AAeA,IAAIC,YAAY,GAAG,EAAnB;AACAL,SAAS,CAACM,OAAV,CAAmBC,IAAD,IAAU;AAC1BF,EAAAA,YAAY,CAACE,IAAI,CAACN,EAAN,CAAZ,GAAwBM,IAAxB;AACD,CAFD;;AAIA,SAASC,OAAT,CAAiBP,EAAjB,EAAqB;AACnB,SAAOI,YAAY,CAACJ,EAAD,CAAnB;AACD;;AAED,SAASQ,WAAT,GAAuB;AACnB,SAAOT,SAAP;AACH;;AAED,MAAMU,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLX,IAAAA,SAAS,EAAE,CAACY,KAAD,EAAQC,KAAR,KAAkB;AAC3B,aAAOJ,WAAW,EAAlB;AAAqB,KAFlB;AAGLK,IAAAA,QAAQ,EAAE,CAACF,KAAD,EAAQ;AAAEX,MAAAA;AAAF,KAAR,KAAmBO,OAAO,CAACP,EAAD;AAH/B,GADS;AAMhBc,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,EAAE,CAACJ,KAAD,EAAQ;AAAEV,MAAAA,KAAF;AAASC,MAAAA,OAAT;AAAkBC,MAAAA;AAAlB,KAAR,KAAuC;AAClD,UAAIH,EAAE,GAAGH,OAAT;AACA,UAAIS,IAAI,GAAG;AAAEN,QAAAA,EAAE,EAAEH,OAAN;AAAeI,QAAAA,KAAK,EAAEA,KAAtB;AAA6BC,QAAAA,OAAO,EAAEA,OAAtC;AAA+CC,QAAAA,MAAM,EAAEA;AAAvD,OAAX;AACAC,MAAAA,YAAY,CAAC,IAAD,CAAZ,GAAqBE,IAArB;AACAP,MAAAA,SAAS,CAACiB,IAAV,CAAeV,IAAf;AACAZ,MAAAA,MAAM,CAACuB,OAAP,CAAerB,mBAAf,EAAoC;AAACsB,QAAAA,WAAW,EAAEZ;AAAd,OAApC;AACAT,MAAAA,OAAO;AACP,aAAOS,IAAP;AACD;AATO,GANM;AAiBhBa,EAAAA,YAAY,EAAE;AACZD,IAAAA,WAAW,EAAE;AACTE,MAAAA,SAAS,EAAE,MAAM1B,MAAM,CAAC2B,aAAP,CAAqBzB,mBAArB;AADR;AADD;AAjBE,CAAlB;AAwBO,MAAM0B,aAAa,GAAG,wCAAqB;AAChDC,EAAAA,QAAQ,EAAE,CAACzB,YAAD,CADsC;AAEhDW,EAAAA;AAFgD,CAArB,CAAtB","sourceRoot":"/home/dushani/wso2/Rnd/news-backend/data/","sourcesContent":["\nimport { makeExecutableSchema } from 'graphql-tools';\n\nimport { PubSub, withFilter } from 'graphql-subscriptions';\n\nconst pubsub = new PubSub();\nconst ADDED_NEW_BLOG_POST = 'new_blog_post';\nlet counter = 3;\n\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n  blogPosts: [BlogPost]\n  blogPost(id: String): BlogPost\n}\n\ntype Mutation {\n  addBlogPost(title: String, content: String, author: String): BlogPost\n}\n\ntype Subscription {\n  newBlogPost: BlogPost\n}\n\ntype BlogPost {\n  id: String\n  title: String\n  content: String\n  author: String\n}\n`;\n\nlet blogPosts = [\n  {\n    id: '1000',\n    title: 'Blog Post 1',\n    content : 'This is the first blog post',\n    author: 'James Smith',\n  },\n  {\n    id: '1001',\n    title: 'Blog Post 2',\n    content : 'This is the second blog post',\n    author : 'John Doe',\n  },\n];\n\nlet blogPostData = {};\nblogPosts.forEach((post) => {\n  blogPostData[post.id] = post;\n});\n\nfunction getPost(id) {\n  return blogPostData[id];\n}\n\nfunction getAllPosts() {\n    return blogPosts;\n}\n\nconst resolvers = {\n  Query: {\n    blogPosts: (_root, _args) => {\n      return getAllPosts()},\n    blogPost: (_root, { id }) => getPost(id),\n  },\n  Mutation: {\n    addBlogPost: (_root, { title, content, author }) => {\n      let id = counter;\n      let post = { id: counter, title: title, content: content, author: author}\n      blogPostData[\"id\"] = post;\n      blogPosts.push(post);\n      pubsub.publish(ADDED_NEW_BLOG_POST, {newBlogPost: post});\n      counter ++;\n      return post;\n    },\n  },\n  Subscription: {\n    newBlogPost: {\n        subscribe: () => pubsub.asyncIterator(ADDED_NEW_BLOG_POST),\n    },\n  },\n}\n\nexport const NewsAppSchema = makeExecutableSchema({\n  typeDefs: [schemaString],\n  resolvers\n});\n"]}},"mtime":1649006881650},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"filename\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _apolloServerExpress = require(\"apollo-server-express\");\n\nvar _http = require(\"http\");\n\nvar _cors = _interopRequireDefault(require(\"cors\"));\n\nvar _schema = _interopRequireDefault(require(\"./data/schema\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst PORT = 8084;\nconst app = (0, _express.default)();\napp.use('*', (0, _cors.default)());\napp.use(_express.default.json({\n  limit: '100mb'\n}));\napp.use(_express.default.urlencoded({\n  limit: '100mb'\n}));\nconst server = new _apolloServerExpress.ApolloServer({\n  schema: _schema.default,\n  subscriptions: {\n    path: \"/graphql\"\n  }\n});\nserver.applyMiddleware({\n  app\n});\nconst httpServer = (0, _http.createServer)(app);\nserver.installSubscriptionHandlers(httpServer);\nhttpServer.listen(PORT, () => {\n  console.log(`ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`);\n  console.log(`ðŸš€ Subscriptions ready at ws://localhost:${PORT}${server.subscriptionsPath}`);\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJQT1JUIiwiYXBwIiwidXNlIiwiZXhwcmVzcyIsImpzb24iLCJsaW1pdCIsInVybGVuY29kZWQiLCJzZXJ2ZXIiLCJBcG9sbG9TZXJ2ZXIiLCJzY2hlbWEiLCJzdWJzY3JpcHRpb25zIiwicGF0aCIsImFwcGx5TWlkZGxld2FyZSIsImh0dHBTZXJ2ZXIiLCJpbnN0YWxsU3Vic2NyaXB0aW9uSGFuZGxlcnMiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwiZ3JhcGhxbFBhdGgiLCJzdWJzY3JpcHRpb25zUGF0aCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7OztBQUVBLE1BQU1BLElBQUksR0FBRyxJQUFiO0FBRUEsTUFBTUMsR0FBRyxHQUFHLHVCQUFaO0FBRUFBLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLEdBQVIsRUFBYSxvQkFBYjtBQUNBRCxHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsQ0FBYTtBQUFDQyxFQUFBQSxLQUFLLEVBQUU7QUFBUixDQUFiLENBQVI7QUFDQUosR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRRyxVQUFSLENBQW1CO0FBQUNELEVBQUFBLEtBQUssRUFBRTtBQUFSLENBQW5CLENBQVI7QUFFQSxNQUFNRSxNQUFNLEdBQUcsSUFBSUMsaUNBQUosQ0FBaUI7QUFDOUJDLEVBQUFBLE1BQU0sRUFBTkEsZUFEOEI7QUFFOUJDLEVBQUFBLGFBQWEsRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUU7QUFBUjtBQUZlLENBQWpCLENBQWY7QUFLQUosTUFBTSxDQUFDSyxlQUFQLENBQXVCO0FBQUVYLEVBQUFBO0FBQUYsQ0FBdkI7QUFFQSxNQUFNWSxVQUFVLEdBQUcsd0JBQWFaLEdBQWIsQ0FBbkI7QUFFQU0sTUFBTSxDQUFDTywyQkFBUCxDQUFtQ0QsVUFBbkM7QUFFQUEsVUFBVSxDQUFDRSxNQUFYLENBQWtCZixJQUFsQixFQUF3QixNQUFNO0FBQzVCZ0IsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsdUNBQXNDakIsSUFBSyxHQUFFTyxNQUFNLENBQUNXLFdBQVksRUFBN0U7QUFDQUYsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQWEsNENBQTJDakIsSUFBSyxHQUFFTyxNQUFNLENBQUNZLGlCQUFrQixFQUF4RjtBQUNELENBSEQiLCJzb3VyY2VSb290IjoiL2hvbWUvZHVzaGFuaS93c28yL1JuZC9UcmFpblNjaGVkdWxlL3RyYWluLWJhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBBcG9sbG9TZXJ2ZXIgfSBmcm9tICdhcG9sbG8tc2VydmVyLWV4cHJlc3MnO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyIH0gZnJvbSAnaHR0cCc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcblxuaW1wb3J0IHNjaGVtYSBmcm9tICcuL2RhdGEvc2NoZW1hJztcblxuY29uc3QgUE9SVCA9IDgwODQ7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuYXBwLnVzZSgnKicsIGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbih7bGltaXQ6ICcxMDBtYid9KSk7XG5hcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7bGltaXQ6ICcxMDBtYid9KSk7XG5cbmNvbnN0IHNlcnZlciA9IG5ldyBBcG9sbG9TZXJ2ZXIoeyBcbiAgc2NoZW1hLCBcbiAgc3Vic2NyaXB0aW9uczogeyBwYXRoOiBcIi9ncmFwaHFsXCIgfVxufSk7XG5cbnNlcnZlci5hcHBseU1pZGRsZXdhcmUoeyBhcHAgfSk7XG5cbmNvbnN0IGh0dHBTZXJ2ZXIgPSBjcmVhdGVTZXJ2ZXIoYXBwKTtcblxuc2VydmVyLmluc3RhbGxTdWJzY3JpcHRpb25IYW5kbGVycyhodHRwU2VydmVyKTtcblxuaHR0cFNlcnZlci5saXN0ZW4oUE9SVCwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhg8J+agCBTZXJ2ZXIgcmVhZHkgYXQgaHR0cDovL2xvY2FsaG9zdDoke1BPUlR9JHtzZXJ2ZXIuZ3JhcGhxbFBhdGh9YCk7XG4gIGNvbnNvbGUubG9nKGDwn5qAIFN1YnNjcmlwdGlvbnMgcmVhZHkgYXQgd3M6Ly9sb2NhbGhvc3Q6JHtQT1JUfSR7c2VydmVyLnN1YnNjcmlwdGlvbnNQYXRofWApO1xufSk7XG4iXX0=","map":{"version":3,"sources":["server.js"],"names":["PORT","app","use","express","json","limit","urlencoded","server","ApolloServer","schema","subscriptions","path","applyMiddleware","httpServer","installSubscriptionHandlers","listen","console","log","graphqlPath","subscriptionsPath"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AAEA;;;;AAEA,MAAMA,IAAI,GAAG,IAAb;AAEA,MAAMC,GAAG,GAAG,uBAAZ;AAEAA,GAAG,CAACC,GAAJ,CAAQ,GAAR,EAAa,oBAAb;AACAD,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,CAAa;AAACC,EAAAA,KAAK,EAAE;AAAR,CAAb,CAAR;AACAJ,GAAG,CAACC,GAAJ,CAAQC,iBAAQG,UAAR,CAAmB;AAACD,EAAAA,KAAK,EAAE;AAAR,CAAnB,CAAR;AAEA,MAAME,MAAM,GAAG,IAAIC,iCAAJ,CAAiB;AAC9BC,EAAAA,MAAM,EAANA,eAD8B;AAE9BC,EAAAA,aAAa,EAAE;AAAEC,IAAAA,IAAI,EAAE;AAAR;AAFe,CAAjB,CAAf;AAKAJ,MAAM,CAACK,eAAP,CAAuB;AAAEX,EAAAA;AAAF,CAAvB;AAEA,MAAMY,UAAU,GAAG,wBAAaZ,GAAb,CAAnB;AAEAM,MAAM,CAACO,2BAAP,CAAmCD,UAAnC;AAEAA,UAAU,CAACE,MAAX,CAAkBf,IAAlB,EAAwB,MAAM;AAC5BgB,EAAAA,OAAO,CAACC,GAAR,CAAa,uCAAsCjB,IAAK,GAAEO,MAAM,CAACW,WAAY,EAA7E;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAa,4CAA2CjB,IAAK,GAAEO,MAAM,CAACY,iBAAkB,EAAxF;AACD,CAHD","sourceRoot":"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/","sourcesContent":["import express from 'express';\nimport { ApolloServer } from 'apollo-server-express';\nimport { createServer } from 'http';\nimport cors from 'cors';\n\nimport schema from './data/schema';\n\nconst PORT = 8084;\n\nconst app = express();\n\napp.use('*', cors());\napp.use(express.json({limit: '100mb'}));\napp.use(express.urlencoded({limit: '100mb'}));\n\nconst server = new ApolloServer({ \n  schema, \n  subscriptions: { path: \"/graphql\" }\n});\n\nserver.applyMiddleware({ app });\n\nconst httpServer = createServer(app);\n\nserver.installSubscriptionHandlers(httpServer);\n\nhttpServer.listen(PORT, () => {\n  console.log(`ðŸš€ Server ready at http://localhost:${PORT}${server.graphqlPath}`);\n  console.log(`ðŸš€ Subscriptions ready at ws://localhost:${PORT}${server.subscriptionsPath}`);\n});\n"]}},"mtime":1652505199987},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"filename\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _newsSchema.NewsAppSchema;\n  }\n});\n\nvar _newsSchema = require(\"./newsSchema\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL1RyYWluU2NoZWR1bGUvdHJhaW4tYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IE5ld3NBcHBTY2hlbWEgYXMgZGVmYXVsdCB9IGZyb20gJy4vbmV3c1NjaGVtYSdcbiJdfQ==","map":{"version":3,"sources":["schema.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA","sourceRoot":"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/","sourcesContent":["export { NewsAppSchema as default } from './newsSchema'\n"]}},"mtime":1648721378154},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"filename\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/schema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _scheduleSchema.TrainScheduleAppSchema;\n  }\n});\n\nvar _scheduleSchema = require(\"./scheduleSchema\");\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVtYS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL1RyYWluU2NoZWR1bGUvdHJhaW4tYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB7IFRyYWluU2NoZWR1bGVBcHBTY2hlbWEgYXMgZGVmYXVsdCB9IGZyb20gJy4vc2NoZWR1bGVTY2hlbWEnXG4iXX0=","map":{"version":3,"sources":["schema.js"],"names":[],"mappings":";;;;;;;;;;;;AAAA","sourceRoot":"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/","sourcesContent":["export { TrainScheduleAppSchema as default } from './scheduleSchema'\n"]}},"mtime":1652509055199},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"filename\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/scheduleSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TrainScheduleAppSchema = void 0;\n\nvar _graphqlTools = require(\"graphql-tools\");\n\nvar _graphqlSubscriptions = require(\"graphql-subscriptions\");\n\nconst pubsub = new _graphqlSubscriptions.PubSub();\nconst ADDED_NEW_SCHEDULE = 'new_blog_post';\nlet counter = 3;\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n    schedules:[Schedule]\n}\n\ntype Subscription {\n    scheduleAdded(to: String) : Schedule!\n}\n\ntype Mutation {\n    addSchedule(from: String!, to: String, trainType: String, startTime: String, endTime: String) : Schedule\n}\n\ntype Schedule {\n    entryId: String!\n    startTime: String\n    endTime: String\n    from: String\n    to: String\n    trainType: String\n}\n`;\nlet trainSchedules = [{\n  entryId: '1000',\n  startTime: '08:00',\n  endTime: '10:00',\n  from: 'London',\n  to: 'Heathrow',\n  trainType: 'GoGo'\n}, {\n  entryId: '1001',\n  startTime: '17:00',\n  endTime: '18:00',\n  from: 'London',\n  to: 'Surrey',\n  trainType: 'GoGo'\n}];\nlet trainScheduleToData = {};\ntrainSchedules.forEach(schedule => {\n  trainScheduleToData[schedule.to] = schedule;\n}); // function getSchedule(id) {\n//   return trainScheduleToData[id];\n// }\n\nfunction getAllSchedules() {\n  return trainSchedules;\n}\n\nconst resolvers = {\n  Query: {\n    schedules: (_root, _args) => {\n      return getAllSchedules();\n    } // blogPost: (_root, { id }) => getSchedule(id),\n\n  },\n  Mutation: {\n    addSchedule: (_root, {\n      startTime,\n      endTime,\n      from,\n      to,\n      trainType\n    }) => {\n      let schedule = {\n        entryId: counter,\n        startTime: startTime,\n        endTime: endTime,\n        from: from,\n        to: to,\n        trainType: trainType\n      };\n      trainScheduleToData[to] = schedule;\n      trainSchedules.push(schedule);\n      pubsub.publish(ADDED_NEW_SCHEDULE, {\n        newSchedule: schedule\n      });\n      counter++;\n      return schedule;\n    }\n  },\n  Subscription: {\n    newSchedule: {\n      subscribe: () => pubsub.asyncIterator(ADDED_NEW_SCHEDULE)\n    }\n  }\n};\nconst TrainScheduleAppSchema = (0, _graphqlTools.makeExecutableSchema)({\n  typeDefs: [schemaString],\n  resolvers\n});\nexports.TrainScheduleAppSchema = TrainScheduleAppSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVkdWxlU2NoZW1hLmpzIl0sIm5hbWVzIjpbInB1YnN1YiIsIlB1YlN1YiIsIkFEREVEX05FV19TQ0hFRFVMRSIsImNvdW50ZXIiLCJzY2hlbWFTdHJpbmciLCJ0cmFpblNjaGVkdWxlcyIsImVudHJ5SWQiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZnJvbSIsInRvIiwidHJhaW5UeXBlIiwidHJhaW5TY2hlZHVsZVRvRGF0YSIsImZvckVhY2giLCJzY2hlZHVsZSIsImdldEFsbFNjaGVkdWxlcyIsInJlc29sdmVycyIsIlF1ZXJ5Iiwic2NoZWR1bGVzIiwiX3Jvb3QiLCJfYXJncyIsIk11dGF0aW9uIiwiYWRkU2NoZWR1bGUiLCJwdXNoIiwicHVibGlzaCIsIm5ld1NjaGVkdWxlIiwiU3Vic2NyaXB0aW9uIiwic3Vic2NyaWJlIiwiYXN5bmNJdGVyYXRvciIsIlRyYWluU2NoZWR1bGVBcHBTY2hlbWEiLCJ0eXBlRGVmcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUVBOztBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyw0QkFBSixFQUFmO0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsZUFBM0I7QUFDQSxJQUFJQyxPQUFPLEdBQUcsQ0FBZDtBQUVBLE1BQU1DLFlBQVksR0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0EzQkE7QUE2QkEsSUFBSUMsY0FBYyxHQUFHLENBQ25CO0FBQ0VDLEVBQUFBLE9BQU8sRUFBRSxNQURYO0FBRUVDLEVBQUFBLFNBQVMsRUFBRSxPQUZiO0FBR0VDLEVBQUFBLE9BQU8sRUFBRyxPQUhaO0FBSUVDLEVBQUFBLElBQUksRUFBRSxRQUpSO0FBS0VDLEVBQUFBLEVBQUUsRUFBRSxVQUxOO0FBTUVDLEVBQUFBLFNBQVMsRUFBRTtBQU5iLENBRG1CLEVBU25CO0FBQ0VMLEVBQUFBLE9BQU8sRUFBRSxNQURYO0FBRUVDLEVBQUFBLFNBQVMsRUFBRSxPQUZiO0FBR0VDLEVBQUFBLE9BQU8sRUFBRyxPQUhaO0FBSUVDLEVBQUFBLElBQUksRUFBRSxRQUpSO0FBS0VDLEVBQUFBLEVBQUUsRUFBRSxRQUxOO0FBTUVDLEVBQUFBLFNBQVMsRUFBRTtBQU5iLENBVG1CLENBQXJCO0FBbUJBLElBQUlDLG1CQUFtQixHQUFHLEVBQTFCO0FBQ0FQLGNBQWMsQ0FBQ1EsT0FBZixDQUF3QkMsUUFBRCxJQUFjO0FBQ25DRixFQUFBQSxtQkFBbUIsQ0FBQ0UsUUFBUSxDQUFDSixFQUFWLENBQW5CLEdBQW1DSSxRQUFuQztBQUNELENBRkQsRSxDQUlBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQyxlQUFULEdBQTJCO0FBQ3ZCLFNBQU9WLGNBQVA7QUFDSDs7QUFFRCxNQUFNVyxTQUFTLEdBQUc7QUFDaEJDLEVBQUFBLEtBQUssRUFBRTtBQUNMQyxJQUFBQSxTQUFTLEVBQUUsQ0FBQ0MsS0FBRCxFQUFRQyxLQUFSLEtBQWtCO0FBQzNCLGFBQU9MLGVBQWUsRUFBdEI7QUFBeUIsS0FGdEIsQ0FHTDs7QUFISyxHQURTO0FBTWhCTSxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsV0FBVyxFQUFFLENBQUNILEtBQUQsRUFBUTtBQUFFWixNQUFBQSxTQUFGO0FBQWFDLE1BQUFBLE9BQWI7QUFBc0JDLE1BQUFBLElBQXRCO0FBQTRCQyxNQUFBQSxFQUE1QjtBQUFnQ0MsTUFBQUE7QUFBaEMsS0FBUixLQUF3RDtBQUNuRSxVQUFJRyxRQUFRLEdBQUc7QUFBRVIsUUFBQUEsT0FBTyxFQUFFSCxPQUFYO0FBQW9CSSxRQUFBQSxTQUFTLEVBQUVBLFNBQS9CO0FBQTBDQyxRQUFBQSxPQUFPLEVBQUVBLE9BQW5EO0FBQTREQyxRQUFBQSxJQUFJLEVBQUVBLElBQWxFO0FBQXdFQyxRQUFBQSxFQUFFLEVBQUVBLEVBQTVFO0FBQWdGQyxRQUFBQSxTQUFTLEVBQUVBO0FBQTNGLE9BQWY7QUFDQUMsTUFBQUEsbUJBQW1CLENBQUNGLEVBQUQsQ0FBbkIsR0FBMEJJLFFBQTFCO0FBQ0FULE1BQUFBLGNBQWMsQ0FBQ2tCLElBQWYsQ0FBb0JULFFBQXBCO0FBQ0FkLE1BQUFBLE1BQU0sQ0FBQ3dCLE9BQVAsQ0FBZXRCLGtCQUFmLEVBQW1DO0FBQUN1QixRQUFBQSxXQUFXLEVBQUVYO0FBQWQsT0FBbkM7QUFDQVgsTUFBQUEsT0FBTztBQUNQLGFBQU9XLFFBQVA7QUFDRDtBQVJPLEdBTk07QUFnQmhCWSxFQUFBQSxZQUFZLEVBQUU7QUFDWkQsSUFBQUEsV0FBVyxFQUFFO0FBQ1RFLE1BQUFBLFNBQVMsRUFBRSxNQUFNM0IsTUFBTSxDQUFDNEIsYUFBUCxDQUFxQjFCLGtCQUFyQjtBQURSO0FBREQ7QUFoQkUsQ0FBbEI7QUF1Qk8sTUFBTTJCLHNCQUFzQixHQUFHLHdDQUFxQjtBQUN6REMsRUFBQUEsUUFBUSxFQUFFLENBQUMxQixZQUFELENBRCtDO0FBRXpEWSxFQUFBQTtBQUZ5RCxDQUFyQixDQUEvQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL1RyYWluU2NoZWR1bGUvdHJhaW4tYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgbWFrZUV4ZWN1dGFibGVTY2hlbWEgfSBmcm9tICdncmFwaHFsLXRvb2xzJztcblxuaW1wb3J0IHsgUHViU3ViLCB3aXRoRmlsdGVyIH0gZnJvbSAnZ3JhcGhxbC1zdWJzY3JpcHRpb25zJztcblxuY29uc3QgcHVic3ViID0gbmV3IFB1YlN1YigpO1xuY29uc3QgQURERURfTkVXX1NDSEVEVUxFID0gJ25ld19ibG9nX3Bvc3QnO1xubGV0IGNvdW50ZXIgPSAzO1xuXG5jb25zdCBzY2hlbWFTdHJpbmcgPSBgXG5zY2hlbWEge1xuICBxdWVyeTogUXVlcnlcbiAgbXV0YXRpb246IE11dGF0aW9uXG4gIHN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uXG59XG5cbnR5cGUgUXVlcnkge1xuICAgIHNjaGVkdWxlczpbU2NoZWR1bGVdXG59XG5cbnR5cGUgU3Vic2NyaXB0aW9uIHtcbiAgICBzY2hlZHVsZUFkZGVkKHRvOiBTdHJpbmcpIDogU2NoZWR1bGUhXG59XG5cbnR5cGUgTXV0YXRpb24ge1xuICAgIGFkZFNjaGVkdWxlKGZyb206IFN0cmluZyEsIHRvOiBTdHJpbmcsIHRyYWluVHlwZTogU3RyaW5nLCBzdGFydFRpbWU6IFN0cmluZywgZW5kVGltZTogU3RyaW5nKSA6IFNjaGVkdWxlXG59XG5cbnR5cGUgU2NoZWR1bGUge1xuICAgIGVudHJ5SWQ6IFN0cmluZyFcbiAgICBzdGFydFRpbWU6IFN0cmluZ1xuICAgIGVuZFRpbWU6IFN0cmluZ1xuICAgIGZyb206IFN0cmluZ1xuICAgIHRvOiBTdHJpbmdcbiAgICB0cmFpblR5cGU6IFN0cmluZ1xufVxuYDtcblxubGV0IHRyYWluU2NoZWR1bGVzID0gW1xuICB7XG4gICAgZW50cnlJZDogJzEwMDAnLFxuICAgIHN0YXJ0VGltZTogJzA4OjAwJyxcbiAgICBlbmRUaW1lIDogJzEwOjAwJyxcbiAgICBmcm9tOiAnTG9uZG9uJyxcbiAgICB0bzogJ0hlYXRocm93JyxcbiAgICB0cmFpblR5cGU6ICdHb0dvJ1xuICB9LFxuICB7XG4gICAgZW50cnlJZDogJzEwMDEnLFxuICAgIHN0YXJ0VGltZTogJzE3OjAwJyxcbiAgICBlbmRUaW1lIDogJzE4OjAwJyxcbiAgICBmcm9tOiAnTG9uZG9uJyxcbiAgICB0bzogJ1N1cnJleScsXG4gICAgdHJhaW5UeXBlOiAnR29HbydcbiAgfSxcbl07XG5cbmxldCB0cmFpblNjaGVkdWxlVG9EYXRhID0ge307XG50cmFpblNjaGVkdWxlcy5mb3JFYWNoKChzY2hlZHVsZSkgPT4ge1xuICB0cmFpblNjaGVkdWxlVG9EYXRhW3NjaGVkdWxlLnRvXSA9IHNjaGVkdWxlO1xufSk7XG5cbi8vIGZ1bmN0aW9uIGdldFNjaGVkdWxlKGlkKSB7XG4vLyAgIHJldHVybiB0cmFpblNjaGVkdWxlVG9EYXRhW2lkXTtcbi8vIH1cblxuZnVuY3Rpb24gZ2V0QWxsU2NoZWR1bGVzKCkge1xuICAgIHJldHVybiB0cmFpblNjaGVkdWxlcztcbn1cblxuY29uc3QgcmVzb2x2ZXJzID0ge1xuICBRdWVyeToge1xuICAgIHNjaGVkdWxlczogKF9yb290LCBfYXJncykgPT4ge1xuICAgICAgcmV0dXJuIGdldEFsbFNjaGVkdWxlcygpfSxcbiAgICAvLyBibG9nUG9zdDogKF9yb290LCB7IGlkIH0pID0+IGdldFNjaGVkdWxlKGlkKSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhZGRTY2hlZHVsZTogKF9yb290LCB7IHN0YXJ0VGltZSwgZW5kVGltZSwgZnJvbSwgdG8sIHRyYWluVHlwZSB9KSA9PiB7XG4gICAgICBsZXQgc2NoZWR1bGUgPSB7IGVudHJ5SWQ6IGNvdW50ZXIsIHN0YXJ0VGltZTogc3RhcnRUaW1lLCBlbmRUaW1lOiBlbmRUaW1lLCBmcm9tOiBmcm9tLCB0bzogdG8sIHRyYWluVHlwZTogdHJhaW5UeXBlIH07XG4gICAgICB0cmFpblNjaGVkdWxlVG9EYXRhW3RvXSA9IHNjaGVkdWxlO1xuICAgICAgdHJhaW5TY2hlZHVsZXMucHVzaChzY2hlZHVsZSk7XG4gICAgICBwdWJzdWIucHVibGlzaChBRERFRF9ORVdfU0NIRURVTEUsIHtuZXdTY2hlZHVsZTogc2NoZWR1bGV9KTtcbiAgICAgIGNvdW50ZXIgKys7XG4gICAgICByZXR1cm4gc2NoZWR1bGU7XG4gICAgfSxcbiAgfSxcbiAgU3Vic2NyaXB0aW9uOiB7XG4gICAgbmV3U2NoZWR1bGU6IHtcbiAgICAgICAgc3Vic2NyaWJlOiAoKSA9PiBwdWJzdWIuYXN5bmNJdGVyYXRvcihBRERFRF9ORVdfU0NIRURVTEUpLFxuICAgIH0sXG4gIH0sXG59XG5cbmV4cG9ydCBjb25zdCBUcmFpblNjaGVkdWxlQXBwU2NoZW1hID0gbWFrZUV4ZWN1dGFibGVTY2hlbWEoe1xuICB0eXBlRGVmczogW3NjaGVtYVN0cmluZ10sXG4gIHJlc29sdmVyc1xufSk7XG4iXX0=","map":{"version":3,"sources":["scheduleSchema.js"],"names":["pubsub","PubSub","ADDED_NEW_SCHEDULE","counter","schemaString","trainSchedules","entryId","startTime","endTime","from","to","trainType","trainScheduleToData","forEach","schedule","getAllSchedules","resolvers","Query","schedules","_root","_args","Mutation","addSchedule","push","publish","newSchedule","Subscription","subscribe","asyncIterator","TrainScheduleAppSchema","typeDefs"],"mappings":";;;;;;;AACA;;AAEA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,4BAAJ,EAAf;AACA,MAAMC,kBAAkB,GAAG,eAA3B;AACA,IAAIC,OAAO,GAAG,CAAd;AAEA,MAAMC,YAAY,GAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA3BA;AA6BA,IAAIC,cAAc,GAAG,CACnB;AACEC,EAAAA,OAAO,EAAE,MADX;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,OAAO,EAAG,OAHZ;AAIEC,EAAAA,IAAI,EAAE,QAJR;AAKEC,EAAAA,EAAE,EAAE,UALN;AAMEC,EAAAA,SAAS,EAAE;AANb,CADmB,EASnB;AACEL,EAAAA,OAAO,EAAE,MADX;AAEEC,EAAAA,SAAS,EAAE,OAFb;AAGEC,EAAAA,OAAO,EAAG,OAHZ;AAIEC,EAAAA,IAAI,EAAE,QAJR;AAKEC,EAAAA,EAAE,EAAE,QALN;AAMEC,EAAAA,SAAS,EAAE;AANb,CATmB,CAArB;AAmBA,IAAIC,mBAAmB,GAAG,EAA1B;AACAP,cAAc,CAACQ,OAAf,CAAwBC,QAAD,IAAc;AACnCF,EAAAA,mBAAmB,CAACE,QAAQ,CAACJ,EAAV,CAAnB,GAAmCI,QAAnC;AACD,CAFD,E,CAIA;AACA;AACA;;AAEA,SAASC,eAAT,GAA2B;AACvB,SAAOV,cAAP;AACH;;AAED,MAAMW,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAC3B,aAAOL,eAAe,EAAtB;AAAyB,KAFtB,CAGL;;AAHK,GADS;AAMhBM,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,EAAE,CAACH,KAAD,EAAQ;AAAEZ,MAAAA,SAAF;AAAaC,MAAAA,OAAb;AAAsBC,MAAAA,IAAtB;AAA4BC,MAAAA,EAA5B;AAAgCC,MAAAA;AAAhC,KAAR,KAAwD;AACnE,UAAIG,QAAQ,GAAG;AAAER,QAAAA,OAAO,EAAEH,OAAX;AAAoBI,QAAAA,SAAS,EAAEA,SAA/B;AAA0CC,QAAAA,OAAO,EAAEA,OAAnD;AAA4DC,QAAAA,IAAI,EAAEA,IAAlE;AAAwEC,QAAAA,EAAE,EAAEA,EAA5E;AAAgFC,QAAAA,SAAS,EAAEA;AAA3F,OAAf;AACAC,MAAAA,mBAAmB,CAACF,EAAD,CAAnB,GAA0BI,QAA1B;AACAT,MAAAA,cAAc,CAACkB,IAAf,CAAoBT,QAApB;AACAd,MAAAA,MAAM,CAACwB,OAAP,CAAetB,kBAAf,EAAmC;AAACuB,QAAAA,WAAW,EAAEX;AAAd,OAAnC;AACAX,MAAAA,OAAO;AACP,aAAOW,QAAP;AACD;AARO,GANM;AAgBhBY,EAAAA,YAAY,EAAE;AACZD,IAAAA,WAAW,EAAE;AACTE,MAAAA,SAAS,EAAE,MAAM3B,MAAM,CAAC4B,aAAP,CAAqB1B,kBAArB;AADR;AADD;AAhBE,CAAlB;AAuBO,MAAM2B,sBAAsB,GAAG,wCAAqB;AACzDC,EAAAA,QAAQ,EAAE,CAAC1B,YAAD,CAD+C;AAEzDY,EAAAA;AAFyD,CAArB,CAA/B","sourceRoot":"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/","sourcesContent":["\nimport { makeExecutableSchema } from 'graphql-tools';\n\nimport { PubSub, withFilter } from 'graphql-subscriptions';\n\nconst pubsub = new PubSub();\nconst ADDED_NEW_SCHEDULE = 'new_blog_post';\nlet counter = 3;\n\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n    schedules:[Schedule]\n}\n\ntype Subscription {\n    scheduleAdded(to: String) : Schedule!\n}\n\ntype Mutation {\n    addSchedule(from: String!, to: String, trainType: String, startTime: String, endTime: String) : Schedule\n}\n\ntype Schedule {\n    entryId: String!\n    startTime: String\n    endTime: String\n    from: String\n    to: String\n    trainType: String\n}\n`;\n\nlet trainSchedules = [\n  {\n    entryId: '1000',\n    startTime: '08:00',\n    endTime : '10:00',\n    from: 'London',\n    to: 'Heathrow',\n    trainType: 'GoGo'\n  },\n  {\n    entryId: '1001',\n    startTime: '17:00',\n    endTime : '18:00',\n    from: 'London',\n    to: 'Surrey',\n    trainType: 'GoGo'\n  },\n];\n\nlet trainScheduleToData = {};\ntrainSchedules.forEach((schedule) => {\n  trainScheduleToData[schedule.to] = schedule;\n});\n\n// function getSchedule(id) {\n//   return trainScheduleToData[id];\n// }\n\nfunction getAllSchedules() {\n    return trainSchedules;\n}\n\nconst resolvers = {\n  Query: {\n    schedules: (_root, _args) => {\n      return getAllSchedules()},\n    // blogPost: (_root, { id }) => getSchedule(id),\n  },\n  Mutation: {\n    addSchedule: (_root, { startTime, endTime, from, to, trainType }) => {\n      let schedule = { entryId: counter, startTime: startTime, endTime: endTime, from: from, to: to, trainType: trainType };\n      trainScheduleToData[to] = schedule;\n      trainSchedules.push(schedule);\n      pubsub.publish(ADDED_NEW_SCHEDULE, {newSchedule: schedule});\n      counter ++;\n      return schedule;\n    },\n  },\n  Subscription: {\n    newSchedule: {\n        subscribe: () => pubsub.asyncIterator(ADDED_NEW_SCHEDULE),\n    },\n  },\n}\n\nexport const TrainScheduleAppSchema = makeExecutableSchema({\n  typeDefs: [schemaString],\n  resolvers\n});\n"]}},"mtime":1652508939166},"{\"assumptions\":{},\"sourceRoot\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"filename\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/scheduleSchema.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/dushani/wso2/Rnd/TrainSchedule/train-backend\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.17.8:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TrainScheduleAppSchema = void 0;\n\nvar _graphqlTools = require(\"graphql-tools\");\n\nvar _graphqlSubscriptions = require(\"graphql-subscriptions\");\n\nconst pubsub = new _graphqlSubscriptions.PubSub();\nconst ADDED_NEW_SCHEDULE = 'new_blog_post';\nconst UPDATED_NEW_SCHEDULE = 'update_blog_post';\nlet counter = 1002;\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n    schedules:[Schedule]\n}\n\ntype Subscription {\n    newSchedule(from: String!) : Schedule!\n    scheduleUpdate(from: String) : Schedule!\n}\n\ntype Mutation {\n    addSchedule(from: String!, to: String!, trainType: String!, startTime: String!, endTime: String!) : Schedule!\n    updateSchedule(scheduleId: String!, startTime: String!, endTime: String!) : Schedule!\n}\n\ntype Schedule {\n    scheduleId: String!\n    startTime: String\n    endTime: String\n    from: String\n    to: String\n    trainType: String\n}\n`;\nlet trainSchedules = [{\n  scheduleId: '1000',\n  startTime: '08:00',\n  endTime: '10:00',\n  from: 'London',\n  to: 'Heathrow',\n  trainType: 'GoGo'\n}, {\n  scheduleId: '1001',\n  startTime: '17:00',\n  endTime: '18:00',\n  from: 'London',\n  to: 'Surrey',\n  trainType: 'GoGo'\n}];\nlet trainScheduleToData = {};\ntrainSchedules.forEach(schedule => {\n  trainScheduleToData[schedule.scheduleId] = schedule;\n}); // function getSchedule(id) {\n//   return trainScheduleToData[id];\n// }\n\nfunction getAllSchedules() {\n  return trainSchedules;\n}\n\nconst resolvers = {\n  Query: {\n    schedules: (_root, _args) => {\n      return getAllSchedules();\n    } // blogPost: (_root, { id }) => getSchedule(id),\n\n  },\n  Mutation: {\n    addSchedule: (_root, {\n      startTime,\n      endTime,\n      from,\n      to,\n      trainType\n    }) => {\n      let schedule = {\n        scheduleId: counter.toString(),\n        startTime: startTime,\n        endTime: endTime,\n        from: from,\n        to: to,\n        trainType: trainType\n      };\n      trainScheduleToData[counter] = schedule;\n      trainSchedules.push(schedule);\n      pubsub.publish(ADDED_NEW_SCHEDULE, {\n        newSchedule: schedule\n      });\n      counter++;\n      return schedule;\n    },\n    updateSchedule: (_root, {\n      startTime,\n      endTime,\n      scheduleId\n    }) => {\n      let oldSchedule = trainScheduleToData[scheduleId];\n      let updatedSchedule = {\n        scheduleId: scheduleId,\n        startTime: startTime,\n        endTime: endTime,\n        from: oldSchedule.from,\n        to: oldSchedule.to,\n        trainType: oldSchedule.trainType\n      };\n      trainScheduleToData[scheduleId] = updatedSchedule;\n      trainSchedules = trainSchedules.filter(function (value, _index, _arr) {\n        return value.scheduleId !== scheduleId;\n      });\n      console.log(trainSchedules);\n      trainSchedules.push(updatedSchedule);\n      console.log(trainSchedules);\n      pubsub.publish(UPDATED_NEW_SCHEDULE, {\n        scheduleUpdate: updatedSchedule\n      });\n      return updatedSchedule;\n    }\n  },\n  Subscription: {\n    newSchedule: {\n      subscribe: (0, _graphqlSubscriptions.withFilter)(() => pubsub.asyncIterator(ADDED_NEW_SCHEDULE), (payload, variables) => {\n        return payload !== undefined && (variables.from === null || payload.newSchedule.from === variables.from);\n      })\n    },\n    scheduleUpdate: {\n      subscribe: (0, _graphqlSubscriptions.withFilter)(() => pubsub.asyncIterator(UPDATED_NEW_SCHEDULE), (payload, variables) => {\n        return payload !== undefined && (variables.from === null || payload.scheduleUpdate.from === variables.from);\n      })\n    }\n  }\n};\nconst TrainScheduleAppSchema = (0, _graphqlTools.makeExecutableSchema)({\n  typeDefs: [schemaString],\n  resolvers\n});\nexports.TrainScheduleAppSchema = TrainScheduleAppSchema;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVkdWxlU2NoZW1hLmpzIl0sIm5hbWVzIjpbInB1YnN1YiIsIlB1YlN1YiIsIkFEREVEX05FV19TQ0hFRFVMRSIsIlVQREFURURfTkVXX1NDSEVEVUxFIiwiY291bnRlciIsInNjaGVtYVN0cmluZyIsInRyYWluU2NoZWR1bGVzIiwic2NoZWR1bGVJZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJmcm9tIiwidG8iLCJ0cmFpblR5cGUiLCJ0cmFpblNjaGVkdWxlVG9EYXRhIiwiZm9yRWFjaCIsInNjaGVkdWxlIiwiZ2V0QWxsU2NoZWR1bGVzIiwicmVzb2x2ZXJzIiwiUXVlcnkiLCJzY2hlZHVsZXMiLCJfcm9vdCIsIl9hcmdzIiwiTXV0YXRpb24iLCJhZGRTY2hlZHVsZSIsInRvU3RyaW5nIiwicHVzaCIsInB1Ymxpc2giLCJuZXdTY2hlZHVsZSIsInVwZGF0ZVNjaGVkdWxlIiwib2xkU2NoZWR1bGUiLCJ1cGRhdGVkU2NoZWR1bGUiLCJmaWx0ZXIiLCJ2YWx1ZSIsIl9pbmRleCIsIl9hcnIiLCJjb25zb2xlIiwibG9nIiwic2NoZWR1bGVVcGRhdGUiLCJTdWJzY3JpcHRpb24iLCJzdWJzY3JpYmUiLCJhc3luY0l0ZXJhdG9yIiwicGF5bG9hZCIsInZhcmlhYmxlcyIsInVuZGVmaW5lZCIsIlRyYWluU2NoZWR1bGVBcHBTY2hlbWEiLCJ0eXBlRGVmcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBOztBQUVBOztBQUVBLE1BQU1BLE1BQU0sR0FBRyxJQUFJQyw0QkFBSixFQUFmO0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsZUFBM0I7QUFDQSxNQUFNQyxvQkFBb0IsR0FBRyxrQkFBN0I7QUFDQSxJQUFJQyxPQUFPLEdBQUcsSUFBZDtBQUVBLE1BQU1DLFlBQVksR0FBSTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LElBQXBCLElBQThCK0IsT0FBTyxDQUFDSixjQUFSLENBQXVCM0IsSUFBdkIsS0FBZ0NnQyxTQUFTLENBQUNoQyxJQURsRSxDQUFQO0FBRUgsT0FMTTtBQURHO0FBVko7QUE3QkUsQ0FBbEI7QUFtRE8sTUFBTWtDLHNCQUFzQixHQUFHLHdDQUFxQjtBQUN6REMsRUFBQUEsUUFBUSxFQUFFLENBQUN4QyxZQUFELENBRCtDO0FBRXpEWSxFQUFBQTtBQUZ5RCxDQUFyQixDQUEvQiIsInNvdXJjZVJvb3QiOiIvaG9tZS9kdXNoYW5pL3dzbzIvUm5kL1RyYWluU2NoZWR1bGUvdHJhaW4tYmFja2VuZC9kYXRhLyIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgbWFrZUV4ZWN1dGFibGVTY2hlbWEgfSBmcm9tICdncmFwaHFsLXRvb2xzJztcblxuaW1wb3J0IHsgUHViU3ViLCB3aXRoRmlsdGVyIH0gZnJvbSAnZ3JhcGhxbC1zdWJzY3JpcHRpb25zJztcblxuY29uc3QgcHVic3ViID0gbmV3IFB1YlN1YigpO1xuY29uc3QgQURERURfTkVXX1NDSEVEVUxFID0gJ25ld19ibG9nX3Bvc3QnO1xuY29uc3QgVVBEQVRFRF9ORVdfU0NIRURVTEUgPSAndXBkYXRlX2Jsb2dfcG9zdCc7XG5sZXQgY291bnRlciA9IDEwMDI7XG5cbmNvbnN0IHNjaGVtYVN0cmluZyA9IGBcbnNjaGVtYSB7XG4gIHF1ZXJ5OiBRdWVyeVxuICBtdXRhdGlvbjogTXV0YXRpb25cbiAgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb25cbn1cblxudHlwZSBRdWVyeSB7XG4gICAgc2NoZWR1bGVzOltTY2hlZHVsZV1cbn1cblxudHlwZSBTdWJzY3JpcHRpb24ge1xuICAgIG5ld1NjaGVkdWxlKGZyb206IFN0cmluZyEpIDogU2NoZWR1bGUhXG4gICAgc2NoZWR1bGVVcGRhdGUoZnJvbTogU3RyaW5nKSA6IFNjaGVkdWxlIVxufVxuXG50eXBlIE11dGF0aW9uIHtcbiAgICBhZGRTY2hlZHVsZShmcm9tOiBTdHJpbmchLCB0bzogU3RyaW5nISwgdHJhaW5UeXBlOiBTdHJpbmchLCBzdGFydFRpbWU6IFN0cmluZyEsIGVuZFRpbWU6IFN0cmluZyEpIDogU2NoZWR1bGUhXG4gICAgdXBkYXRlU2NoZWR1bGUoc2NoZWR1bGVJZDogU3RyaW5nISwgc3RhcnRUaW1lOiBTdHJpbmchLCBlbmRUaW1lOiBTdHJpbmchKSA6IFNjaGVkdWxlIVxufVxuXG50eXBlIFNjaGVkdWxlIHtcbiAgICBzY2hlZHVsZUlkOiBTdHJpbmchXG4gICAgc3RhcnRUaW1lOiBTdHJpbmdcbiAgICBlbmRUaW1lOiBTdHJpbmdcbiAgICBmcm9tOiBTdHJpbmdcbiAgICB0bzogU3RyaW5nXG4gICAgdHJhaW5UeXBlOiBTdHJpbmdcbn1cbmA7XG5cbmxldCB0cmFpblNjaGVkdWxlcyA9IFtcbiAge1xuICAgIHNjaGVkdWxlSWQ6ICcxMDAwJyxcbiAgICBzdGFydFRpbWU6ICcwODowMCcsXG4gICAgZW5kVGltZSA6ICcxMDowMCcsXG4gICAgZnJvbTogJ0xvbmRvbicsXG4gICAgdG86ICdIZWF0aHJvdycsXG4gICAgdHJhaW5UeXBlOiAnR29HbydcbiAgfSxcbiAge1xuICAgIHNjaGVkdWxlSWQ6ICcxMDAxJyxcbiAgICBzdGFydFRpbWU6ICcxNzowMCcsXG4gICAgZW5kVGltZSA6ICcxODowMCcsXG4gICAgZnJvbTogJ0xvbmRvbicsXG4gICAgdG86ICdTdXJyZXknLFxuICAgIHRyYWluVHlwZTogJ0dvR28nXG4gIH0sXG5dO1xuXG5sZXQgdHJhaW5TY2hlZHVsZVRvRGF0YSA9IHt9O1xudHJhaW5TY2hlZHVsZXMuZm9yRWFjaCgoc2NoZWR1bGUpID0+IHtcbiAgdHJhaW5TY2hlZHVsZVRvRGF0YVtzY2hlZHVsZS5zY2hlZHVsZUlkXSA9IHNjaGVkdWxlO1xufSk7XG5cbi8vIGZ1bmN0aW9uIGdldFNjaGVkdWxlKGlkKSB7XG4vLyAgIHJldHVybiB0cmFpblNjaGVkdWxlVG9EYXRhW2lkXTtcbi8vIH1cblxuZnVuY3Rpb24gZ2V0QWxsU2NoZWR1bGVzKCkge1xuICAgIHJldHVybiB0cmFpblNjaGVkdWxlcztcbn1cblxuY29uc3QgcmVzb2x2ZXJzID0ge1xuICBRdWVyeToge1xuICAgIHNjaGVkdWxlczogKF9yb290LCBfYXJncykgPT4ge1xuICAgICAgcmV0dXJuIGdldEFsbFNjaGVkdWxlcygpfSxcbiAgICAvLyBibG9nUG9zdDogKF9yb290LCB7IGlkIH0pID0+IGdldFNjaGVkdWxlKGlkKSxcbiAgfSxcbiAgTXV0YXRpb246IHtcbiAgICBhZGRTY2hlZHVsZTogKF9yb290LCB7IHN0YXJ0VGltZSwgZW5kVGltZSwgZnJvbSwgdG8sIHRyYWluVHlwZSB9KSA9PiB7XG4gICAgICBsZXQgc2NoZWR1bGUgPSB7IHNjaGVkdWxlSWQ6IGNvdW50ZXIudG9TdHJpbmcoKSwgc3RhcnRUaW1lOiBzdGFydFRpbWUsIGVuZFRpbWU6IGVuZFRpbWUsIGZyb206IGZyb20sIHRvOiB0bywgdHJhaW5UeXBlOiB0cmFpblR5cGUgfTtcbiAgICAgIHRyYWluU2NoZWR1bGVUb0RhdGFbY291bnRlcl0gPSBzY2hlZHVsZTtcbiAgICAgIHRyYWluU2NoZWR1bGVzLnB1c2goc2NoZWR1bGUpO1xuICAgICAgcHVic3ViLnB1Ymxpc2goQURERURfTkVXX1NDSEVEVUxFLCB7bmV3U2NoZWR1bGU6IHNjaGVkdWxlfSk7XG4gICAgICBjb3VudGVyICsrO1xuICAgICAgcmV0dXJuIHNjaGVkdWxlO1xuICAgIH0sXG4gICAgdXBkYXRlU2NoZWR1bGU6IChfcm9vdCwgeyBzdGFydFRpbWUsIGVuZFRpbWUsIHNjaGVkdWxlSWQgfSkgPT4ge1xuICAgICAgbGV0IG9sZFNjaGVkdWxlID0gdHJhaW5TY2hlZHVsZVRvRGF0YVtzY2hlZHVsZUlkXTtcbiAgICAgIGxldCB1cGRhdGVkU2NoZWR1bGUgPSB7IHNjaGVkdWxlSWQ6IHNjaGVkdWxlSWQsIHN0YXJ0VGltZTogc3RhcnRUaW1lLCBlbmRUaW1lOiBlbmRUaW1lLCBmcm9tOiBvbGRTY2hlZHVsZS5mcm9tLCB0bzogb2xkU2NoZWR1bGUudG8sIHRyYWluVHlwZTogb2xkU2NoZWR1bGUudHJhaW5UeXBlIH07XG4gICAgICB0cmFpblNjaGVkdWxlVG9EYXRhW3NjaGVkdWxlSWRdID0gdXBkYXRlZFNjaGVkdWxlO1xuICAgICAgdHJhaW5TY2hlZHVsZXMgPSB0cmFpblNjaGVkdWxlcy5maWx0ZXIoZnVuY3Rpb24odmFsdWUsIF9pbmRleCwgX2Fycil7IFxuICAgICAgICByZXR1cm4gdmFsdWUuc2NoZWR1bGVJZCAhPT0gc2NoZWR1bGVJZDtcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2codHJhaW5TY2hlZHVsZXMpO1xuICAgICAgdHJhaW5TY2hlZHVsZXMucHVzaCh1cGRhdGVkU2NoZWR1bGUpO1xuICAgICAgY29uc29sZS5sb2codHJhaW5TY2hlZHVsZXMpO1xuICAgICAgcHVic3ViLnB1Ymxpc2goVVBEQVRFRF9ORVdfU0NIRURVTEUsIHtzY2hlZHVsZVVwZGF0ZTogdXBkYXRlZFNjaGVkdWxlfSk7XG4gICAgICByZXR1cm4gdXBkYXRlZFNjaGVkdWxlO1xuICAgIH0sXG4gIH0sXG4gIFN1YnNjcmlwdGlvbjoge1xuICAgIG5ld1NjaGVkdWxlOiB7XG4gICAgICBzdWJzY3JpYmU6IHdpdGhGaWx0ZXIoXG4gICAgICAgICAgKCkgPT4gcHVic3ViLmFzeW5jSXRlcmF0b3IoQURERURfTkVXX1NDSEVEVUxFKSxcbiAgICAgICAgICAocGF5bG9hZCwgdmFyaWFibGVzKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAocGF5bG9hZCAhPT0gdW5kZWZpbmVkKSAmJiBcbiAgICAgICAgICAgICAgKCh2YXJpYWJsZXMuZnJvbSA9PT0gbnVsbCkgfHwgKHBheWxvYWQubmV3U2NoZWR1bGUuZnJvbSA9PT0gdmFyaWFibGVzLmZyb20pKTtcbiAgICAgICAgICB9XG4gICAgICApLFxuICAgIH0sICAgIFxuICAgIHNjaGVkdWxlVXBkYXRlOiB7XG4gICAgICBzdWJzY3JpYmU6IHdpdGhGaWx0ZXIoXG4gICAgICAgICAgKCkgPT4gcHVic3ViLmFzeW5jSXRlcmF0b3IoVVBEQVRFRF9ORVdfU0NIRURVTEUpLFxuICAgICAgICAgIChwYXlsb2FkLCB2YXJpYWJsZXMpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIChwYXlsb2FkICE9PSB1bmRlZmluZWQpICYmIFxuICAgICAgICAgICAgICAoKHZhcmlhYmxlcy5mcm9tID09PSBudWxsKSB8fCAocGF5bG9hZC5zY2hlZHVsZVVwZGF0ZS5mcm9tID09PSB2YXJpYWJsZXMuZnJvbSkpO1xuICAgICAgICAgIH1cbiAgICAgICksXG4gICAgfSwgIFxuICB9LFxufVxuXG5leHBvcnQgY29uc3QgVHJhaW5TY2hlZHVsZUFwcFNjaGVtYSA9IG1ha2VFeGVjdXRhYmxlU2NoZW1hKHtcbiAgdHlwZURlZnM6IFtzY2hlbWFTdHJpbmddLFxuICByZXNvbHZlcnNcbn0pO1xuIl19","map":{"version":3,"sources":["scheduleSchema.js"],"names":["pubsub","PubSub","ADDED_NEW_SCHEDULE","UPDATED_NEW_SCHEDULE","counter","schemaString","trainSchedules","scheduleId","startTime","endTime","from","to","trainType","trainScheduleToData","forEach","schedule","getAllSchedules","resolvers","Query","schedules","_root","_args","Mutation","addSchedule","toString","push","publish","newSchedule","updateSchedule","oldSchedule","updatedSchedule","filter","value","_index","_arr","console","log","scheduleUpdate","Subscription","subscribe","asyncIterator","payload","variables","undefined","TrainScheduleAppSchema","typeDefs"],"mappings":"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","sourceRoot":"/home/dushani/wso2/Rnd/TrainSchedule/train-backend/data/","sourcesContent":["\nimport { makeExecutableSchema } from 'graphql-tools';\n\nimport { PubSub, withFilter } from 'graphql-subscriptions';\n\nconst pubsub = new PubSub();\nconst ADDED_NEW_SCHEDULE = 'new_blog_post';\nconst UPDATED_NEW_SCHEDULE = 'update_blog_post';\nlet counter = 1002;\n\nconst schemaString = `\nschema {\n  query: Query\n  mutation: Mutation\n  subscription: Subscription\n}\n\ntype Query {\n    schedules:[Schedule]\n}\n\ntype Subscription {\n    newSchedule(from: String!) : Schedule!\n    scheduleUpdate(from: String) : Schedule!\n}\n\ntype Mutation {\n    addSchedule(from: String!, to: String!, trainType: String!, startTime: String!, endTime: String!) : Schedule!\n    updateSchedule(scheduleId: String!, startTime: String!, endTime: String!) : Schedule!\n}\n\ntype Schedule {\n    scheduleId: String!\n    startTime: String\n    endTime: String\n    from: String\n    to: String\n    trainType: String\n}\n`;\n\nlet trainSchedules = [\n  {\n    scheduleId: '1000',\n    startTime: '08:00',\n    endTime : '10:00',\n    from: 'London',\n    to: 'Heathrow',\n    trainType: 'GoGo'\n  },\n  {\n    scheduleId: '1001',\n    startTime: '17:00',\n    endTime : '18:00',\n    from: 'London',\n    to: 'Surrey',\n    trainType: 'GoGo'\n  },\n];\n\nlet trainScheduleToData = {};\ntrainSchedules.forEach((schedule) => {\n  trainScheduleToData[schedule.scheduleId] = schedule;\n});\n\n// function getSchedule(id) {\n//   return trainScheduleToData[id];\n// }\n\nfunction getAllSchedules() {\n    return trainSchedules;\n}\n\nconst resolvers = {\n  Query: {\n    schedules: (_root, _args) => {\n      return getAllSchedules()},\n    // blogPost: (_root, { id }) => getSchedule(id),\n  },\n  Mutation: {\n    addSchedule: (_root, { startTime, endTime, from, to, trainType }) => {\n      let schedule = { scheduleId: counter.toString(), startTime: startTime, endTime: endTime, from: from, to: to, trainType: trainType };\n      trainScheduleToData[counter] = schedule;\n      trainSchedules.push(schedule);\n      pubsub.publish(ADDED_NEW_SCHEDULE, {newSchedule: schedule});\n      counter ++;\n      return schedule;\n    },\n    updateSchedule: (_root, { startTime, endTime, scheduleId }) => {\n      let oldSchedule = trainScheduleToData[scheduleId];\n      let updatedSchedule = { scheduleId: scheduleId, startTime: startTime, endTime: endTime, from: oldSchedule.from, to: oldSchedule.to, trainType: oldSchedule.trainType };\n      trainScheduleToData[scheduleId] = updatedSchedule;\n      trainSchedules = trainSchedules.filter(function(value, _index, _arr){ \n        return value.scheduleId !== scheduleId;\n      });\n      console.log(trainSchedules);\n      trainSchedules.push(updatedSchedule);\n      console.log(trainSchedules);\n      pubsub.publish(UPDATED_NEW_SCHEDULE, {scheduleUpdate: updatedSchedule});\n      return updatedSchedule;\n    },\n  },\n  Subscription: {\n    newSchedule: {\n      subscribe: withFilter(\n          () => pubsub.asyncIterator(ADDED_NEW_SCHEDULE),\n          (payload, variables) => {\n              return (payload !== undefined) && \n              ((variables.from === null) || (payload.newSchedule.from === variables.from));\n          }\n      ),\n    },    \n    scheduleUpdate: {\n      subscribe: withFilter(\n          () => pubsub.asyncIterator(UPDATED_NEW_SCHEDULE),\n          (payload, variables) => {\n              return (payload !== undefined) && \n              ((variables.from === null) || (payload.scheduleUpdate.from === variables.from));\n          }\n      ),\n    },  \n  },\n}\n\nexport const TrainScheduleAppSchema = makeExecutableSchema({\n  typeDefs: [schemaString],\n  resolvers\n});\n"]}},"mtime":1652513371060}}